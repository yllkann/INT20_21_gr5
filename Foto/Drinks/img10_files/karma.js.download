/*! karma.js v.3.11.3 2020-12-21 */
!function(){const e=window,t=document;let n=e.karmads||{};n.vars=n.vars||{},e.karma=e.karma||{},e.karma.vars=e.karma.vars||{},e.karma.config=e.karma.config||{};let i={vars:{version:"3.11.3",targetingStorage:{},els:{head:t.getElementsByTagName("head")[0]},videoTargeting:{},adaptiveTimeout:!1},slots:{catalog:[],deferred:[],lazy:[],scrollLoad:[],refresh:[]},config:{networkCode:"3865",version:"3.18",scriptPath:"",environment:"",site:"",targeting:{},static:!1}},o,r,a,s,l,c,d,u,g,f,p,h,m,b,y,v,S,k,w,T,C,x,E,I,O,R,L,P,z,A,_,q;const D=i.vars,M=i.config;e.googletag=e.googletag||{},googletag.cmd=googletag.cmd||[],e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.karma.config.apiVersion?r=i.config.apiVersion=e.karma.config.apiVersion:(r=i.config.apiVersion=2,window.adServiceQ=window.adServiceQ||[]),i.vars.initialized=!1,n.config=function(){"use strict";let e,t,r,s,c,d,u,g,f,p;const y=["refresh","refreshSlotTypes","header_tag_managerEnabled","a9Enabled","docking","usPrivacy","euPrivacy"];function v(n){return u="www"===t?"":t+".",g=d?":9999":"",M.scriptPath="https://"+u+"karma.mdpcdn.com"+g+"/configs/"+s+"/"+(n||e)+".json",M.scriptPath}function S(i){p=n.config.storage.check(e,t,s),c||"object"!=typeof p?(a({label:"ConfigFetchStart"}),b(r,(function(e){a({report:!0,label:"configReady",reportLabel:n.targeting.get("type")}),a("Loaded static config! v."+e.versionInfo.version+" from "+r),i(e)}),(function(){"email.mdp.com"===e?a("Email address detected in the URL. Halting the ad request.",{force:!0,level:"error"}):0===e.indexOf("deactivated.")?a("Site is deactivated. Halting the ad request.",{force:!0,level:"error"}):(a("Failed to load static config! "+r+", trying for "+f,{force:!0,level:"error"}),r=M.scriptPath=v(f),b(r,(function(e){i(e),a("Loaded static config! v."+e.versionInfo.version+" from "+r,{force:!0})}),(function(){a("Failed to load default static config! "+r,{force:!0,level:"error"})})))}))):(a("Loading Config from LocalStorage."),M.scriptPath="localStorage.mdpKarmaConfig",M.environment=p.env,i(p))}return{load:S,process:function(e){if(e){const o=n.targeting.get("type"),r=M.onPageSettings;let a,s,c,d,u=l(e.settings);if(n.config.storage.set(M.site,e,t),u.hasOwnProperty("pageSpecificSettings")&&u.pageSpecificSettings.hasOwnProperty(o)&&(u=m(u,u.pageSpecificSettings[o])),M.static=u||!1,!1!==M.static){const e=l(M.static);h(e,(function(t){M[t]=e[t]})),h(y,(function(t){r.config.hasOwnProperty(t)&&(R(r.config[t])?M[t]=m(e[t],r.config[t]):M[t]=r.config[t])}))}if(n.urlVars.setTestValues(),i.slots.siteSpecific=l(e.siteSpecificSlots),M.targeting.abTest&&"object"==typeof M.abTestMap&&(a=M.targeting.abTest,s=M.abTestMap,s[a])){c=s[a].prop.split("."),d=M;const e=c.length;h(c,(function(t,n){n===e-1?d[t]=s[a].val:d.hasOwnProperty(t)&&(d=d[t])}))}}else a("No response received from the service")},init:function(i){f="default.mdp."+(o?"mob":"com"),c=c||n.urlVars.get("karmaConfig"),d=!("local"!==c),t=c&&L(c)?c:c&&""!==c||"local"!==D.environment?D.environment||"www":"dev",M.environment=t,t=t,s="local"===t||"dev"===t?"latest":M.version,e=M.site.replace(/^test\./,""),r=v(),S(i||P)}}}(),n.docking=function(){"use strict";let e="";function t(){n.docking.leaderboard.init(),n.docking.rail.init()}function i(e){if(!e||!Array.isArray(e))return!1;let t=!0;return h(e,(function(e){eval(e)||(t=!1)})),t}function o(t){e+=t;const i=n.dom.lookup("#dockingStyles",!1,!0);e.length>0&&(null===i?n.dom.create("style",D.els.head,{id:"dockingStyles",innerHTML:e}):i.innerHTML=e)}function r(){if(M.docking){let e;h(["leaderboard","rail"],(function(t){M.docking[t]&&(e="leaderboard"===t?"docked"===n.docking.leaderboard.getPosition():n.docking[t].isEnabled(),n.targeting.set("docked"+t,e))}))}}function s(e){switch(a(("both"===(e=e||"leaderboard")?"leaderboard and rail docking have":e+" docking has")+" been disabled by karma.releaseDocking()"),e){case"both":n.docking.rail.disableAllRails(),n.docking.leaderboard.forceReleaseBanner("method");break;case"rail":n.docking.rail.disableAllRails();break;case"leaderboard":default:n.docking.leaderboard.forceReleaseBanner("method")}}return{processAdditionalLogic:i,appendStyleSheetCss:o,disableDocking:s,targeting:r,init:t}}(),n.lazyLoad=function(){"use strict";let e=[];function o(){e.length>0?(n.requestQueue.process(e),e=[]):a("Attempted to fill newly created slots, but no unfilled slots exist.",{force:!0})}return{create:function(r,s,c,d,u){const g=". Aborting karma.createSlot.";if("string"!=typeof r||""===r)return a("The lazy load slot type you passed to karma.createSlot is not set or is not a string"+g,{force:!0,level:"error",doc:"karmacreateslot"}),!1;if("string"==typeof s&&!n.dom.lookup("#"+s))return a('You passed "'+s+'" as the lazy slot container id to karma.createSlot, but that element does not exist in the DOM'+g,{force:!0,level:"error",doc:"karmacreateslot"}),!1;if("boolean"!=typeof c&&(a("the autofill argument for karma.createSlot is not set or is not a boolean, so it defaults to false. You need to call karma.fillSlots() in order to fill the ad.",{force:!0,level:"warn",doc:"karmafillslots"}),c=!1),"object"==typeof d&&Object.keys(d).length&&(u=d,d=void 0),s="string"==typeof s?n.dom.lookup("#"+s):s,!t.body.contains(s)&&t.body!==s)return a("The container you passed to karma.createSlot for "+r+" is not attached to the document body."+g,{force:!0,level:"error",doc:"karmacreateslot"}),!1;let f=(u=u||{}).tier;const p=n.tiers.getFromType(r);p&&(r=r.replace("-tier"+p,""),f=p);let h=i.slots.lazy.filter((function(e){return e.type===r||e.lazyType===r}))[0];if(!h)return a('Lazy slot "'+r+'" is not configured for this site'+g,{force:!0,level:"error",doc:"karmacreateslot"}),!1;n.tiers.isValidTier(f)||(a('You did not pass a valid tier (1-4) to karma.createSlot. The slot will be loaded as tier0. You should use "'+r+'-tierx" instead, where "x" is the desired tier',{force:!0,level:"warn",doc:"karmacreateslot"}),f=0),h.lazyCount=h.lazyCount?h.lazyCount:0,h.lazyCount+=1;const b=h.lazyType+"-"+h.lazyCount,y=n.dom.create("div",s,{id:b,"data-tier":f});return h=l(h),h.tier=f,h.slotContainer=b,h.deferred=!1,h.tierString="tier"+f,h.slotTargetingValues=h.slotTargetingValues||{},u.hasOwnProperty("targeting")&&"object"==typeof u.targeting&&m(h.slotTargetingValues,u.targeting),M.tiers&&M.tiers[h.type]&&M.tiers[h.type][h.tierString]&&m(h,M.tiers[h.type][h.tierString]),h.refreshType=u.refreshType||"lazy",u.bypassVisibilityCheck&&(h.bypassVisibilityCheck=!0),n.gpt.define(h,n.targeting.adunit.build(h),b),i.slots.catalog.push(h),n.targeting.slotSetup(h),n.gpt.display(b),n.reporting.lazyLoadSlot(r+"-"+h.tierString),e.push(h),a("Finished adding GPT slot "+b),u.refreshable&&(u.purgeRefreshList&&n.refresh.purgeSlots(),n.refresh.addSlot(b)),c&&o(),"function"==typeof d?n.gpt.addCallback((function(e){e.slot.getSlotId().getDomId()===b&&d(e)})):void 0!==d&&a("Callback passed to karma.createSlot for "+b+" is "+typeof d+", not a function. ignoring callback",{force:!0,level:"warn",doc:"karmacreateslot"}),n.translate.slots(),y},fill:o,removeUnfilledSlot:function(t){return e=e.filter((function(e){return e.slotContainer!==t})),e}}}(),n.partner=function(){"use strict";const e=["a9","header_tag_manager","prebid"],t=[];let o=!1;function r(e){return M[e+"Enabled"]&&!!n.partner[e]}function s(e,t){const o=t||i.slots.catalog;return!!r(e)&&(D[e]=D[e]||{},D[e].slots=D[e].slots||{},h(o,(function(t){t.hasOwnProperty(e)&&!0===t[e]&&n.slots.isValidSlotForDevice(t)&&(D[e].slots[t.slotContainer]=t)})),D[e].slots)}function l(t){return e.filter((function(e){return c(t,e)})).length>0}function c(e,t){return e[t]&&r(t)}return{buildSlots:s,getTimeoutLengths:function(e){const t=M.bidTimeouts||{},n="hard"===e,i={partnerEnforced:t[e]||750,failsafe:t.failsafe||2e3,message:n?"failsafe":"refresh"};return i.karmaEnforced=n?i.failsafe:i.partnerEnforced,i},init:function(){const i=M.bidTimeouts=M.bidTimeouts||{};i.failsafe=i.failsafe||2e3,i.hard=i.hard||750,i.soft=i.soft||500,i.timed=i.timed||i.hard,!0!==o&&(o=!0,h(e,(function(e){r(e)&&(s(e),t.push(e))})),h(t,(function(e){"function"==typeof n.partner[e].load&&n.partner[e].load()})))},removeSlotFromAll:function(e){let n;h(t,(function(t){r(t)&&D[t].hasOwnProperty("slots")&&(n=D[t].slots,n.hasOwnProperty(e)&&delete n[e])}))},isAnyPartnerEnabledOnSlot:l,initDemandFetch:function(t){function i(e){const i=s.indexOf(e);i>=0&&s.splice(i,1),0===s.length&&(a("Finishing request"),n.requestQueue.finishRequest(t))}function o(e,t){return e.filter((function(e){return t.indexOf(e)>-1})).length>0}const s=["control"],d=function(e){const t=e.map((function(e){return e.refreshType})),n=o(t,["timed","swap"]),i=o(t,["soft","lazy","scroll"]);return n?"timed":i?"soft":"hard"}(t);if(h(e,(function(e){(function(e,t){return e.filter((function(e){return c(e,t)})).length>0&&r(t)})(t,e)&&(n.partner.buildSlots(e,t),s.push(e),n.partner[e].fetchBids(t,d,(function(){i(e)})))})),"timed"===d&&function(e){return e.filter((function(e){return l(e)})).length>0}(t)){const e=1e3*Math.ceil(M.bidTimeouts.timed/1e3);a("Starting partner control timeout for timed refresh: "+e),setTimeout((function(){i("control")}),e)}else i("control")}}}(),n.polyfills=function(){"use strict";return function(){if("function"==typeof e.CustomEvent)return!1;function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};const i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i}n.prototype=e.Event.prototype,e.CustomEvent=n}(),"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),{createCustomEvent:function(e){return new CustomEvent(e)}}}(),n.refresh=function(){"use strict";return D.refreshingAds=!1,M.refresh=M.refresh||{},{startRefresh:function(e){if(!M.refresh.userInitiated.enabled)return a("User initiated refresh is disabled for this page."),!1;const t=[],o=e||getSlotIds();let r;return h(o,(function(e){r=n.slots.getById(e),r?(r.shouldIncrementRefresh=!0,r.refreshType="soft",n.refresh.timed.resetSlotTimer(r),t.push(r)):i.log("Cannot refresh "+e+" because it does not exist",{force:!0,level:"warn"})})),t.length>0&&(a("refreshing these ads: "+getSlotIds(t).toString()),n.refresh.timed.check(),n.requestQueue.process(t),E()),!1},buildDefaultSlots:function(){return i.slots.refresh=i.slots.catalog.filter((function(e){return-1===e.slotContainer.indexOf("-lazy-")&&n.slots.matchHandleArray(e,M.refresh.userInitiated.slotTypes||[])}))},purgeSlots:function(){return i.slots.refresh=[]},addSlot:function(e){const t=n.slots.getById(e);return!!t&&(i.slots.refresh.push(t),!0)},removeSlot:function(e,t){const n=i.slots.refresh,o=getSlotIds(n).indexOf(e);return o>-1?n.splice(o,1):(t||a("Attempted to remove an invalid slot id from karma.slots.refresh: "+e,{doc:"refresh"}),!1)},targeting:function(e){h(e,(function(e){e.refreshType?(n.targeting.clear(void 0,e),n.targeting.slotSetup(e)):e.refreshType="hard",n.targeting.set("refreshType",e.refreshType,e)}))},incrementRefreshCounter:function(e){h(e,(function(e){e.shouldIncrementRefresh&&(e.refreshCount="number"==typeof e.refreshCount?e.refreshCount:0,e.refreshCount+=1,n.targeting.set("refresh",e.refreshCount,e),e.shouldIncrementRefresh=!1)}))}}}(),n.targeting=function(){"use strict";const i={},o=["app","article","audio","audio_hub","category","channel","collection","freestuff","homepage","landing_page","longform","none","page","photos","poll","post","print","product","profile","project","recipe","recipe_hub","reviews","search","slideshow","slideshow_hub","sponsored_collection","sponsored_recipe_hub","sponsored_print","sponsored_profile","sponsored_recipe","tag","video","video_article","video_hub","video_playlist","video_recipe"];let r,l,c=!1;function d(){c||(c=!0,setTimeout((function(){e.dispatchEvent(l),c=!1}),100))}function u(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"")}function g(e,t,a){const l=M.videoTargetingKeys||[];if(t=s(t),""!==(t="type"===e?function(e){D.unmappedPageType=e,e=e?u(e):"";const t={story:"article",multimediaarticle:"video_article",videostory:"video_article",travelreview:"article",productreview:"article",backtalk:"article",landing:"landing_page",directory:"category",channel:"category",topic:"category",subchannel:"category",list:"slideshow",gallery:"slideshow",photogallery:"slideshow",popularrecipes:"slideshow",recipedetail:"recipe",recipes:"recipe",gallerydetails:"app",productdetailpage:"app",faq:"page",contributor:"page",blogpost:"post",exclusiveoffers:"freestuff",advertorialpage:"page",author:"profile",blog:"post",blogtout:"post",bracket:"bracket",businesslisting:"page",businesslistinglandingpage:"landing_page",calculator:"app",calendar:"slideshow",channellandingpageresponsive:"category",channellayout:"category",checklist:"app",conditioncenter:"app",content:"page",contentpackage:"category",covevideo:"video",dailyfinds:"app",ecommercehub:"landing_page",featurepackage:"category",franchise:"page",generic:"page",genericpage:"page",glossary:"page",hgallery:"slideshow",home:"homepage",howto:"article",imagelist:"photos",index:"category",listicle:"article",magazine:"page",main:"category",makeover:"app",multitag:"tag",multitagpage:"tag",newusesgallery:"slideshow",odds:"odds",optimizer:"optimizer",package:"category",packageflex:"category",planner:"app",plant:"app",poy:"article",rankings:"rankings",recap:"article",schedules:"schedules",scrollinggallery:"slideshow",section:"category",sectionfront:"category",shoppinghub:"product",specialsectionpage:"category",standings:"standings",stats:"stats",storied:"app",syndicatedslideshow:"slideshow",tags:"tag",textlist:"page",tiledlandingpage:"landing_page",timeline:"app",topicpage:"category",topicpagechild:"category",tout:"page",tvrecapsubchannel:"category",verticalgallery:"slideshow",videoarticle:"video_article",videolandingpage:"video_hub",videoarchive:"video_hub",videoseries:"video_playlist",videos:"video_hub"};return h(o,(function(e){t[u(e)]=e})),void 0===e||""===e?"none":t.hasOwnProperty(e)?t[e]:e}(t):t))if(a)n.gpt.setSlotTargeting(a,e,t);else{if(i.hasOwnProperty(e)&&i[e]===JSON.stringify(t))return;if(r[e]=t,i[e]=JSON.stringify(t),n.gpt.setPageTargeting(e,t),l.indexOf(e)>-1){const i={};i[e]=t,n.video.setTargeting(i)}d()}}function p(e,t){if(t){if(t=R(t)?t:n.slots.getById(t),!R(t))return void a("invalid slot id passed into karma.updateTargeting: "+t,{force:!0,level:"error",doc:"karmaupdatetargeting"});h(e,(function(n){t.slotTargetingValues[n]=e[n]})),n.gpt.setSlotTargetingMap(t,e)}else h(e,(function(n){g(n,e[n],t)}));d()}return{init:function(){M.targeting=M.targeting||{},l=f("karmaSetTargeting"),r=M.targeting,function(){const n=e.location.pathname.split("/"),i=n.length,o=D.url.ref_hub,a=t.referrer.match(/https:\/\/(www\.(google|bing)|search\.(yahoo))\.com/);o&&""!==o&&(r.ref_hub=o),z(),h(D.targetingStorage,(function(e){D.targetingStorage[e]&&(r[e]=D.targetingStorage[e])})),O()&&"search"!==r.type&&(r.type="homepage"),h(D.url.testValues,(function(e){r[e]=D.url.testValues[e]})),(void 0===r.type||""===r.type)&&(r.type="none"),r.path=n.slice(1,n[i-1]?i:i-1),_(.1)&&(r.pft=1),a&&a.length>1&&(r.referrer=a.filter((function(e){return e}))[2]),p(r)}()},clear:function(e,t){return r.hasOwnProperty(e)&&delete r[e],i.hasOwnProperty(e)&&delete i[e],t?n.gpt.clearSlotTargeting(t,e):n.gpt.clearPageTargeting(e)},get:function(e){return M.targeting[e]},legacyUpdateSlot:function(e,t){p(t,e)},prerequest:function(){!function(){if(i.hasOwnProperty("muid"))return i.muid;const e=n.muid.getMuid();a("Setting muid: "+e),g("muid",e),n.gpt.setPublisherProvidedId(e)}(),function(){if(i.hasOwnProperty("mrid"))return i.mrid;const e=n.muid.getRequestId();a("Setting Meredith request id: "+e),g("mrid",e)}(),function(){if(D.targetingReady)return;const e=n.dom.lookup("#page-segment-values"),t=!!e&&n.dom.lookup(".keyvals",!1,!1,e),i=!!t&&t.dataset;R(i)&&(g("concepts",(i.content_nlp_entities||"").split(/\/|\|/)),g("sentiment",i.content_nlp_sentiment_label),g("taxons",(i.content_nlp_categories||"").split(/\/|\|/)),g("mtax",(i.content_taxonomy||"").split(",")))}()},ready:function(){e.dispatchEvent&&(a("Dispatching event: karmaTargetingReady"),e.dispatchEvent(f("karmaTargetingReady"))),D.targetingReady=!0,h(["id","type","channel"],(function(e){r[e]&&""!==r[e]||a("karma.config.targeting."+e+" is missing or empty.",{force:!0,level:"error",doc:"karmaconfigtargeting"+e+"---required"})})),"app"!==r.type||r.app_name&&""!==r.app_name||a("This page has a type of 'app', but there is no value set for karma.config.targeting.app_name.",{force:!0,level:"warn",doc:"karmaconfigtargetingapp_name"}),"search"!==r.type||r.search&&""!==r.search||a("This page has a type of 'search', but there is no value set for the search term in karma.config.targeting.search.",{force:!0,level:"warn",doc:"karmaconfigtargetingsearch"}),-1===o.indexOf(D.unmappedPageType)&&a("You provided an invalid value for karma.config.targeting.type: "+D.unmappedPageType+".",{force:!0,level:"warn",doc:"karmaconfigtargetingtype---required"})},set:g,setTargetingMap:p,slotSetup:function(e){e.slotTargetingValues=e.slotTargetingValues||{},e.slotTargetingValues.slot=e.slotContainer.replace("div-gpt-",""),p(e.slotTargetingValues,e)},vars:{standardTypes:o}}}(),n.utilities=function(){"use strict";const o=e.location.hostname,r=o.split("."),s=r.length,l=e.location.pathname;function c(e,t){t=t||"abbr";let n,i,a=e=e||d();const l={allpeoplequilt:"apq",agriculture:"ag",bestlifeonline:"bestlife",dailypaws:"dp",eatingwell:"ew",midwestliving:"mwl",marthastewart:"mslo",rachaelray:"rachaelraycom",rachaelraymag:"rrmag",siempremujer:"sm",serpadres:"sp",woodmagazine:"wood",cookinglight:"ckl",departures:"dep",ew:"enw",foodandwine:"fw",health:"hlt",instyle:"ins",myrecipes:"mre",people:"peo",peopleenespanol:"pesp",realsimple:"rsm",southernliving:"sol",travelandleisure:"tl"};return"abbr"===t?(l.hasOwnProperty(e)&&(a=l[e]),-1!==o.indexOf("allrecipes")?(n=s>2?r[0]:null,i=r.slice(-1)[0],{qc:"arqc",ew:"eatingwell"}[n]||{ca:"arqc",uk:"aruk",au:"arau"}[i]||"ar"):a):(b(l,(function(t){e===l[t]&&(a=t)})),a)}function d(){const e=n.urlVars.get("adTestSite"),t=r.slice(-2,-1)[0];if(e)return c(e.split(".")[0]);switch(t){case"com":case"co":return r.slice(-3,-1)[0];case"themarthablog":return"marthastewart";case"soundst":return r[0]}return t||"default"}function u(e,t){return t=t||["local","dev","test","www"],"string"!=typeof e||-1!==t.indexOf(e)}function g(e){return"string"==typeof e&&("true"===e||"false"===e||""===e)||null==e?"true"===e||!1:e}function f(e){return parseInt(e,10)}function p(e,t){return e=e||{},t&&b(t,(function(n){try{t[n].constructor===Object?e[n]=p(e[n],t[n]):e[n]=t[n]}catch(i){e[n]=t[n]}})),e}function h(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&!NodeList.prototype.isPrototypeOf(e)}const m=e.localStorage;try{m.setItem("mdpTest","1"),m.removeItem("mdpTest"),D.isLocalStorageAvailable=!0}catch(e){D.isLocalStorageAvailable=!1}function b(e,t){(e=h(e)?Object.keys(e):e).forEach(t)}function y(){}return{cleanCharacters:function e(t){let n="",i=!1;return null==t?n="":Array.isArray(t)?(n=[],b(t,(function(t,i){n[i]=e(t)}))):"string"==typeof t?(n=t.replace(/[?'"=!#+*~;^()<>[\],&\s]/gi,""),i=!0):"number"!=typeof t&&"boolean"!=typeof t||(n=String(t)),i&&t!==n&&a('Targeting value "'+t+'" was incorrectly formatted, so KARMA changed it to "'+n+'"',{level:"warn",force:!0}),n},clone:function e(t){let n=t;return h(t)&&(n=Object.create(t.constructor.prototype),b(t,(function(i){n[i]=e(t[i])}))),n},coerceType:function(e){return"string"==typeof e?e.match(/^[0-9]+$/)?f(e):g(e):e},convertQueryStringToObject:function(e,t){e=decodeURIComponent(e),t=void 0===t||t;const n={};return e.replace(/[?&]?([^=&]+)=([^&]*)/gi,(function(e,i,o){t?n[i.toLowerCase()]=o:n[i]=o})),n},convertStringToBoolean:g,convertStringToNumber:f,createEvent:function(e){let t;try{t=new Event(e)}catch(i){t=n.polyfills.createCustomEvent(e)}return t},debounce:function(e,t,n){let i;return function(){const o=this,r=arguments,a=n&&!i;function s(){i=null,n||e.apply(o,r)}clearTimeout(i),i=setTimeout(s,t),a&&e.apply(o,r)}},doLoop:b,extend:p,fetchJson:function(e,t,n){let i=!1;function o(){i=!0,a("XMLHttpRequest initialization error",{level:"error",force:!0}),"function"==typeof n&&n()}const r=new window.XMLHttpRequest;"withCredentials"in r?(r.open("GET",e,!0),r.onloadend=function(){if(404!==r.status){const e=""!==this.responseText?JSON.parse(this.responseText):{};e&&0===Object.keys(e).length&&e.constructor===Object?o():t(e,r.getAllResponseHeaders())}else o()},i||(r.onerror=o,r.send())):o()},fetchResource:function(e,t,i,o,r){t=t||y,i=i||y,o=o||"script",r=r||!1;const a=function(){const e=navigator.appVersion.match(/MSIE ([0-9]{1,}[.0-9]{0,})/);return null!==e&&e.length>=2&&e[1]}();let s={src:e};"9.0"!==a&&"10.0"!==a&&(s.onload=s.onreadystatechange=function(){const e=this.readyState;e&&"complete"!==e&&"loaded"!==e&&i();try{t()}catch(e){i(e)}},s.onerror=i),r&&(s=p(s,r)),n.dom.create(o,D.els.head,s)},getBreakpoint:function(t){const n=M.breakpoints;let i,o="base",r=0;return n.hasOwnProperty("base")||(n.base=0),i=t?t.filter((function(e){return n.hasOwnProperty(e)})):Object.keys(n),b(i.filter((function(t){return n[t]<=e.innerWidth})),(function(e){n[e]>=r&&(r=n[e],o=e)})),o},getCookie:function(e){if(!navigator.cookieEnabled)return a("Cookies are disabled in your browser",{force:!0,level:"warn"}),!1;const n=e+"=";let i;return b(decodeURIComponent(t.cookie).split(";"),(function(e){for(;" "===e.charAt(0);)e=e.substring(1);0===e.indexOf(n)&&(i=e.substring(n.length,e.length))})),i},getEnv:function(){const e=n.urlVars.get("adTestEnv"),t=!!u(e)&&e;if(t)return t;if(s<3)return"www";const i=s>2?r[0]:"www";return-1!==["dev","localhost","local"].indexOf(i)||s>=2&&"betasites"===r[2]?"dev":"test"===i?"test":"www"},getKarmaScript:function(e,t){e=e||"footer",t=t||!1;const i=n.dom.lookup('script[src*="karma.mdpcdn.com"]',!0,!0),o=/^http(?:s)?:\/\/([^.]*)\.?karma\.mdpcdn\.com[:9]*\/service\/(js|js-min)\/(karma(.*))$/;let r,a,s=i.length;if(D.scriptPath&&D.scriptPath.length>0)return D.scriptPath.match(o);for(;s--;)if(a=i[s],r=a.src.match(o),null!==r&&t===(a.dataset&&"true"===a.dataset.reloaded))return r;return null},getSiteName:d,getSite:c,getSlotIds:function(e){return(e=e||i.slots.refresh).map((function(e){return e.slotContainer}))},incrementPageCount:function(){const e=D.targetingStorage.pv++;return localStorage.setItem("mdpAdPageCount",e),n.targeting.set("pv",e),e},incrementizeBid:function(e,t,n){let i;const o=t[0].low,r=t[t.length-1].high;return b(t,(function(t){e>=t.low&&e<=t.high&&(i=function(e,t,n){let i;return i=n?Math.floor(e/t)+1:Math.round(e/t),i*t}(e,t.increment,n))})),i||(0===e?i=0:e<o?i=o:e>r&&(i=r)),Math.floor(i)},isHomepage:function(){return"/"===l&&null!==/^www|dev|test|allrecipes|local|bestlifeonline|eatthis|eatingwell$/.test(r[0])},isIE:function(){return navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("MSIE")>-1},isObject:h,isValidEnv:u,randomPercentage:function(e){return Math.random()<e/100},setAndCheckLocalStorageVars:function(){const e=Date.now(),t=D.targetingStorage;let n=!1;D.isLocalStorageAvailable?(localStorage.mdpAdSessionTTL||localStorage.setItem("mdpAdSessionTTL",e+432e5),e>localStorage.mdpAdSessionTTL&&(n=!0,localStorage.removeItem("mdpAdRefHub"),localStorage.setItem("mdpAdSessionTTL",e+432e5)),t.pv=n||null===localStorage.getItem("mdpAdPageCount")?0:parseInt(localStorage.mdpAdPageCount,10),t.pv++,t.ref_hub=D.url.ref_hub?M.targeting.ref_hub:localStorage.mdpAdRefHub,localStorage.setItem("mdpAdPageCount",t.pv),t.ref_hub&&!D.url.referringId&&localStorage.setItem("mdpAdRefHub",t.ref_hub)):(t.pv=0,a("localStorage not available ... setting karma.vars.targetingStorage.pv to 0."))},tryCatch:function(t,n){try{t()}catch(t){n?n(t):e.console.error(t)}},noop:y}}(),s=n.utilities.cleanCharacters,l=n.utilities.clone,c=n.utilities.coerceType,d=n.utilities.convertQueryStringToObject,u=n.utilities.convertStringToBoolean,g=n.utilities.convertStringToNumber,f=n.utilities.createEvent,p=n.utilities.debounce,h=n.utilities.doLoop,m=n.utilities.extend,b=n.utilities.fetchJson,y=n.utilities.fetchResource,v=n.utilities.getBreakpoint,S=n.utilities.getCookie,k=n.utilities.getEnv,w=n.utilities.getKarmaScript,T=n.utilities.getSiteName,C=n.utilities.getSite,getSlotIds=n.utilities.getSlotIds,E=n.utilities.incrementPageCount,I=n.utilities.incrementizeBid,O=n.utilities.isHomepage,q=n.utilities.isIE,R=n.utilities.isObject,L=n.utilities.isValidEnv,P=n.utilities.noop,z=n.utilities.setAndCheckLocalStorageVars,A=n.utilities.tryCatch,_=n.utilities.randomPercentage,n.targeting=n.targeting||{},n.targeting.adunit=function(){"use strict";const e=["money","si","fansided","kraftrecipes"];let t,i,r,a,c;function d(){var t;return i&&(M.site=i),n.urlVars.urlContainsEmail()&&(M.site="email.mdp.com"),M.site=M.site&&M.site.length>0?M.site:[c].concat(function(e){return e&&e.length>0?["mdp",o?"mob":"com"]:[]}(c)).join("."),t=M.site,e.filter((function(e){return 0===t.indexOf(e+".mdp.")})).length&&(M.site="deactivated."+M.site),M.site}function u(e){let t=[],i=l(a);return e&&n.slots.isLazy(e)&&(i=m(i,e.slotTargetingValues)),t.push(e&&e.tierString?e.tierString:"tier0"),t.push(""!==i.type?i.type:"none"),i.channel&&t.push(i.channel),t=t.map(s),(t.length>0?"/":"")+t.join("/")}return{build:function(e){return r+u(e)},buildTop:function(){return r},buildSub:u,getTopLevelAdUnit:d,getVideoAdUnit:function(){return"/"+[M.networkCode,c+".mdp.video"+(o?".mob":"")].join("/")+u()},init:function(){t=n.urlVars.isTrue("adTest")?"test.":"",i=null!==n.urlVars.get("adTestSite")&&n.urlVars.get("adTestSite"),c=C(),r=M.networkCode+"/"+t+d(),a=M.targeting||{},M.site=s(M.site)}}}(),n.bidz=function(){"use strict";let e,t;const o=[{low:5,high:999,increment:5},{low:1e3,high:1999,increment:10},{low:2e3,high:999999,increment:25}];function r(t){let r=function(e){const t=function(e){if(void 0===e)return!1;const t=n.gpt.getSlotTargeting(e),o=[];let r,a,s;return h(t,(function(e){r=t[e][0],a=!!r&&function(e,t){const n={rpfl_12738:function(e){return e.replace(/\d+_tier(\d+)/,"$1")},IOM:function(e){return e.replace(/\d+x\d+_(\d+)/,"$1")}};return n.ix_apnx_om=n.IOM,n.ix_pubm_om=n.IOM,n.ix_ox_om=n.IOM,n.ix_trstx_cpm=n.IOM,!(!n.hasOwnProperty(e)||(t=g(n[e](t)),isNaN(t)))&&{key:e,value:t}}(e,r),!1!==a&&o.push(a)})),i.config.prebidEnabled&&n.partner.prebid&&(s=n.partner.prebid.getHighestNonDealBid(e),"number"==typeof s&&o.push({key:"prebid",value:100*s})),o}(e);if(t.length>0){const n=t.map((function(e){return e.value})).sort((function(e,t){return t-e}));return e.bids=t,n.shift()}}(t)||0;return r>0&&(r*=e/100+1),r=Math.floor(100*r)/100,I(r,o,!0)}return{setFloors:function(i){e&&t&&h(i,(function(e){n.partner.isAnyPartnerEnabledOnSlot(e)&&function(e){const t=r(e),i=function(e){const t=n.gpt.getSlotTargeting(e);return t.amznbid&&t.amznbid[0]&&t.amznbid[0].length>1?1:0}(e)||(0===t?0:1);n.targeting.set("bz",function(e){const t=String(e),n=t.length;return 1===n?"00"+t:2===n?"0"+t:t}(t),e),n.targeting.set("bzr",i,e)}(e)}))},init:function(){const n=function(){const e=new Date,t=new Date,n=e.getTimezoneOffset()/60,i=M.bidzDayPartOverride||[];let o=-1;t.setMonth(0);const r=5-(t.getTimezoneOffset()/60-n);e.setHours(e.getHours()+(n-r));const a=e.getHours();return h(i,(function(e){a>=e.start&&a<e.end&&(o=e.percentage)})),o}();return M.bidzEnabled=M.bidzEnabled&&(!!M.header_tag_managerEnabled||!!M.a9Enabled||!!M.prebidEnabled),t=M.bidzEnabled,e=n>=0?n:parseInt(M.bidzPercentage,10)||0,a("bidz enabled: "+t+"; percentage: "+e+"%"),e}}}(),n.callbacks=function(){"use strict";const e=[];let t;function i(){M.callback={push:r}}function o(t){"function"==typeof t?(n.gpt.addCallback(t),e.push(t)):a("karma.config.callback.push(fn): Not a valid function.",{force:!0,level:"error"})}function r(e){t=t||[],"function"==typeof t&&(a("karma.config.callback has been overwritten as a function. It should be an array. Please stop it",{force:!0,level:"error"}),i(),r(t)),Array.isArray(t)&&o(e)}return{init:function(){t=M.callback,t&&(t="function"!=typeof t?t:[t],Array.isArray(t)?h(t,o):a("karma.config.callback is defined but is not an array of functions. Ignoring callback.",{force:!0,level:"error"})),i()},getCallbackArray:function(){return e},add:r}}(),n.calvera=function(){function e(){return"mdextest"!==M.targeting.abTest&&(M.calveraEnabled=!1),M.calveraEnabled}return{load:function(){if(e()){const e="//"+("www"!==n.utilities.getEnv()?"qa-":"")+"cdn.polaris.me/cva/local-offers/c/"+M.site.split(".")[0]+"-calvera.js";y(e,(function(){a("Calvera script loaded. ("+e+") ")}),(function(){a("Failed to fetch Calvera's script.",{level:"error",force:!0}),M.calveraEnabled=!1}))}},isEnabled:e}}(),n.config=n.config||{},n.config.slots=function(){"use strict";const e={},t=[],i=[{slotContainer:"div-gpt-leaderboard-flex",slotType:"leaderboard",slotSizes:["728x90","970x90","970x250"],a9:!0,a9Sizes:[[728,90]],header_tag_manager:!0,ixSizes:["728x90","970x250"],prebidSizes:[[728,90],[970,90],[970,250]]},{slotContainer:"div-gpt-leaderboard-fixed",slotType:"leaderboard",slotSizes:["728x90"],a9:!0,a9Sizes:[[728,90]],header_tag_manager:!0,ixSizes:["728x90"],prebidSizes:[[728,90]]},{slotContainer:"div-gpt-square-flex",slotType:"square",slotSizes:["300x250","299x251","300x600","300x1050"],a9:!0,a9Sizes:[[300,250],[300,600]],header_tag_manager:!0,ixSizes:["300x250","300x600","300x1050"],prebidSizes:[[300,250],[300,600],[300,1050]]},{slotContainer:"div-gpt-square-fixed",slotType:"square",slotSizes:["300x250","299x251"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0,ixSizes:["300x250"],prebidSizes:[[300,250]]},{slotContainer:"div-gpt-halfPage-fixed",slotType:"halfPage",slotSizes:["300x600"]},{slotContainer:"div-gpt-halfPage-flex",slotType:"halfPage",slotSizes:["300x250","299x251","300x600"],a9:!0,a9Sizes:[[300,250],[300,600]],prebidSizes:[[300,250],[300,600]]},{slotContainer:"div-gpt-interstitial",slotType:"interstitial",outOfPage:!0},{slotContainer:"div-gpt-wallpaper",slotType:"wallpaper",outOfPage:!0},{slotContainer:"div-gpt-skyscraper",slotType:"skyscraper",slotSizes:["160x600"],header_tag_manager:!0,ixSizes:["160x600"]},{slotContainer:"div-gpt-related",slotType:"related",slotSizes:["1x6"]},{slotContainer:"div-gpt-sponsorLogo",slotType:"sponsorLogo",slotSizes:["122x34","120x75"]},{slotContainer:"div-gpt-fluid",slotType:"fluid",slotSizes:["fluid"]},{slotContainer:"div-gpt-mob-square-fixed",slotType:"mob-square",slotSizes:["300x250","299x251","fluid"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0,ixSizes:["300x250"],prebidSizes:[[300,250]],isMobile:!0},{slotContainer:"div-gpt-mob-square-flex",slotType:"mob-square",slotSizes:["300x250","299x251","320x100","320x200","fluid"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0,ixSizes:["300x250"],prebidSizes:[[300,250]],isMobile:!0},{slotContainer:"div-gpt-mob-banner-fixed",slotType:"mob-banner",slotSizes:["320x50","319x51"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0,ixSizes:["320x50"],prebidSizes:[[320,50]],isMobile:!0},{slotContainer:"div-gpt-mob-banner-flex",slotType:"mob-banner",slotSizes:["320x50","319x51"],a9:!0,a9Sizes:[[320,50]],header_tag_manager:!0,ixSizes:["320x50"],prebidSizes:[[320,50]],isMobile:!0},{slotContainer:"div-gpt-mob-adhesive-banner-fixed",slotType:"mob-adhesive-banner",slotSizes:["320x50","319x51"],a9:!0,a9Sizes:[[320,50]],header_tag_manager:!0,ixSizes:["320x50"],prebidSizes:[[320,50]],isMobile:!0},{slotContainer:"div-gpt-mob-related",slotType:"related",isMobile:!0,slotSizes:["320x175"]},{slotContainer:"div-gpt-mob-sponsorLogo",slotType:"sponsorLogo",isMobile:!0,slotSizes:["122x34","120x75"]},{slotContainer:"div-gpt-mob-fluid",slotType:"fluid",isMobile:!0,slotSizes:["fluid"]},{slotContainer:"div-gpt-leaderboard-responsive",slotType:"leaderboard-responsive",a9:!0,a9Sizes:[[300,250]],responsiveA9Sizes:{desktop:[[728,90]]},responsive:!0,slotSizes:["300x250"],responsiveSlotSizes:{desktop:["728x90"]}}];return{build:function(o,r){const s={};let l,c,d;return"object"==typeof o&&h(o,(function(o){d=n.tiers.getFromType(o)||null,c=o.split(":tier")[0],l=function(e){const t=i.filter((function(t){return e===t.slotContainer||-1!==e.indexOf(t.slotContainer+"-")}));return 0===t.length?(a('Slot placeholder id "'+e+'" is not a valid KARMA ad slot.',{force:!0,level:"error",doc:"slot-catalog"}),!1):m({},t[0])}(c),!1!==l&&(l.slotContainer=c,null!==d&&n.tiers.setTierSettings(d,l,r),e.hasOwnProperty(l.slotContainer)||(t.push(l),e[l.slotContainer]=!0))})),s.adSlots=t,s.lazySlots=function(e,t){const n=[];return h(e,(function(e){e.hasOwnProperty("site")&&e.site!==t&&-1===e.site.indexOf(t)||((e=m({},e)).type=e.slotContainer,e.lazyType=e.type.replace("div-gpt","div-gpt-lazy"),delete e.slotContainer,n.push(e))})),n}(i,r),s}}}(),n.config=n.config||{},n.config.storage=function(){"use strict";function e(){return localStorage.removeItem("mdpKarmaConfig")}return{check:function(t,n,i){let o,r;const s=localStorage.getItem("mdpKarmaConfig");if(D.isLocalStorageAvailable&&s){try{o=JSON.parse(s)}catch(e){o=!1,a("Unable to parse stored config: localStorage.mdpKarmaConfig",{force:!0})}return R(o)&&(o.adDomain===t&&o.env===n?o.version!==i?(a("localStorage Config Found, but the version number is out of date. Removing cached version."),e()):o.expires>=Date.now()?r=o:(a(void 0+"localStorage Config Found, but it's expired. Removing cached version."),e()):(a("localStorage Config Found, but it's for another site or environment. Removing it."),e())),!(!r||!R(r))&&r}},set:function(e,t,n){D.isLocalStorageAvailable&&R(t)&&(t.adDomain=e,t.expires=Math.floor(Date.now()+3e5),t.env=n,t.version=M.version,localStorage.setItem("mdpKarmaConfig",JSON.stringify(t)))}}}(),n.debug=function(){"use strict";D.debug=!1;const t=e.console;function i(t){"true"!==t&&"log"!==t||(D.debug||(D.debug=!D.debug),e.karmads=n,D.queueExecuted&&o())}function o(){const e=D.logObject;return h(e,(function(t){r(e[t].consoleMessage,e[t].level)})),e}function r(e,n){switch(e="%c--KARMA "+(n=n||"log").toUpperCase()+("warn"===n?"ING":"")+": "+e,n){case"error":t.error(e,"font-size:14px;color:red");break;case"warn":t.warn(e,"font-size:14px;color:darkgoldenrod");break;default:t.log(e,"font-size:12px;color:green")}}return{init:i,showLog:o,consoleLog:function(e,n,i){i&&(e+=" http://"+("www"!==D.environment?"dev.":"")+"karma.mdpcdn.com/docs/dev/#"+i),t&&r(e,n)},publicDebug:function(){i("true")}}}(),n.deferred=function(){"use strict";return{init:function(t,o){const r=[];let a=[];return"complete"!==o&&M.useDeferred?(h(t,(function(e){e.deferred?r.push(e):a.push(e)})),i.slots.deferred=r,r.length>0&&e.addEventListener("load",(function(){setTimeout((function(){n.requestQueue.process(i.slots.deferred,!1,!1),i.slots.deferred=[]}),500)}))):a=t,a}}}(),n.docking=n.docking||{},n.docking.leaderboard=function(){let i,o,r,s,l,c,d,p,m,b,y,v,S,k,w,T,C,x,E,I,O,R,L,P,z,A,_,q,V,N,j,H,B,F,U,K,Y,J;function Q(){return M.docking=M.docking||{},O=M.docking.leaderboard||{},"boolean"!=typeof S&&(S=u(O.enabled)),M.isMobile&&(S=!1),S&&O.hasOwnProperty("disableSmallScreen")&&O.disableSmallScreen&&e.innerWidth<=1024&&(S=!1),S}function G(){Q()&&(Y=!P&&"docked"!==w&&k-z-m<e.pageYOffset,J="docked"===w&&k-z-m>=e.pageYOffset,Y?(n.docking.rail.leaderboardEventHandler("leaderboardDocked"),h(v,(function(e){e.classList.add(p)})),H.dispatchEvent(V),w="docked",C&&!L&&(L=!0,R=new function(t,n){let i,o=n;this.pause=function(){e.clearTimeout(E),o-=new Date-i,a("Rollup timer paused! "+o+" remaining")},this.resume=function(){i=new Date,e.clearTimeout(E),E=e.setTimeout(t,o),a("Rollup timer resumed!")},this.resume()}((function(){P=!0,"docked"===w?$(!0):ee()}),d),B.addEventListener("mouseover",R.pause),B.addEventListener("mouseout",R.resume))):J&&$())}function W(){return 0!==T&&T<=90}function Z(){function e(){h(["touchstart","touchmove","touchend","scroll"],(function(e){t.addEventListener(e,G)}))}if(M.docking=M.docking||{},O=O||M.docking.leaderboard||{},D.leaderboardInitialState=O.enabled||!1,E=null,d=0,k=0,v=[],I=[],L=!1,P=!1,w="undocked",S=Q(),!S)return;let R,Y;i=O.additionalLogic||[],o=O.backgroundOpacity||".7",r=O.backgroundRGB||"255,255,255",s=O.dockingElementSelector||"",l=O.zIndex||595,c=O.customStyles||"",p=O.dockedClass||"docked",m=g(O.offset)||0,C=u(O.rollUp)||!1,x=g(O.rollUpMs)||1e4,z=g(O.topMargin)||0,A=g(O.transitionMs)||1e3,_=u(O.useCSS)||!0,q=u(O.useDefaultHeight)||!1,H=t.body,B=O.dockingElementSelector?n.dom.lookup(O.dockingElementSelector):null,F=O.belowBannerSelector?n.dom.lookup(O.belowBannerSelector):null,U=O.siteContainerSelector?n.dom.lookup(O.siteContainerSelector):null,K=null,V=f("leaderboard_docked"),N=f("leaderboard_undocking"),j=f("leaderboard_undocked"),C&&!isNaN(g(x,10))&&(d=x),B&&F&&U?S=S&&n.docking.processAdditionalLogic(i):(a("Missing element for leaderboard docking. Disabling.",{force:!0,level:"warn",doc:"karma-docking"}),S=!1),M.docking.leaderboard&&(M.docking.leaderboard.enabled=S),Q()&&(a("initializing docking banner..."),Y=B.offsetHeight,K=n.dom.create("div",F.parentElement,{id:"docking-banner-placeholder"},F),v=function(){const e=[B,K];return null!==U&&e.push(U),h(I,(function(t){e.push(n.dom.lookup(t,!0,!0))})),e}(),_&&(R=s+"{position:relative;top:0;z-index:"+l+";}#"+K.id+"{height:0;width:100%;background-color:rgb("+r+")}#"+K.id+"."+p+"{height:"+Y+"px}"+(q?"."+p+" #div-gpt-leaderboard-flex-1{min-height:100px;padding:5px 0;box-sizing:border-box}":"")+"#div-gpt-leaderboard-flex-1{text-align:center;overflow:hidden;box-sizing:border-box;position:relative;left:0;width:100%;top:0;}"+s+"."+p+"{position:fixed;background:rgba("+r+","+o+");top:"+z+"px;left:0;right:0;width:100%;"+(q?"height: 100px":"")+"}"+s+".undocking{top:-"+(Y+20)+"px;transition:top 1s;z-index:"+l+";}"+c,n.docking.appendStyleSheetCss(R)),null!==B&&(k=B.offsetTop,y=n.dom.lookup('div[id^="div-gpt-leaderboard"]',!1,!1,B)||{},b=y.id,n.gpt.addCallback((function(t){const i=t.slot.getSlotId().getDomId();i===b&&(function(e,t){const i=n.slots.getById(t);let o;return Array.isArray(e.size)?T=e.size[1]:(o=n.dom.lookup('div[id^="google_ads_iframe"]',!1,!1,n.dom.get(i)),T=null!==o?o.offsetHeight:0),!(e.isEmpty||!W())}(t,i)?!Q()&&D.leaderboardInitialState?(te(),e()):Q()&&(e(),G()):X("sizeCheck"))}))))}function $(t){function i(){B.classList.remove(p),h(v,(function(e){e!==B&&e.classList.remove(p)})),C&&P&&ee(),w="undocked",H.dispatchEvent(j),B.classList.remove("undocking")}H.dispatchEvent(N),t?(w="undocking",B.classList.add(w),n.docking.rail.leaderboardEventHandler("leaderboardUndocked",!0),e.setTimeout(i,A)):(n.docking.rail.leaderboardEventHandler("leaderboardUndocked"),i())}function X(e){if(Q()){if(S=!1,M.docking.leaderboard.enabled=!1,D.leaderboardReleasedBy=e,"docked"!==w)return void ee();$()}}function ee(){h(["touchstart","touchmove","touchend","scroll"],(function(e){t.removeEventListener(e,G)})),e.clearTimeout(E),L&&(B.removeEventListener("mouseover",R.pause),B.removeEventListener("mouseout",R.resume)),R=null}function te(){D.leaderboardInitialState&&!Q()&&W()?(S=!0,M.docking.leaderboard.enabled=!0,Z(),G()):a("Attempted to start leaderboard docking, but could not due to initial enabled state, or current leaderboard size.")}return{init:Z,isEnabled:Q,forceReleaseBanner:X,restart:te,getPosition:function(){return w},getBannerSelectorHeight:function(){if(S){let e;const n=B.clientHeight;return e=t.all?parseInt(B.currentStyle.marginTop,10)+parseInt(B.currentStyle.marginBottom,10):parseInt(t.defaultView.getComputedStyle(B,"").getPropertyValue("margin-top"),10)+parseInt(t.defaultView.getComputedStyle(B,"").getPropertyValue("margin-bottom"),10),n+e}return 0}}}(),n.docking=n.docking||{},n.docking.rail=function(){"use strict";const i=/karma-sticky-(top|stuck|bottom)/,o="Disabling rail docking: ",r={};let s,l,c=[],d=e.innerHeight;function g(){return n.dom.lookup(".karma-sticky-grid",!0).length>0}function f(r,l){try{this.railNum=l||0,this.pos,this.identifier="railDockSection-"+this.railNum,this.classIdentifier="."+this.identifier;const u=[];if(this.enabled=m(),this.dockingElementSelector=r.dockingElementSelector||!1,g()||(this.contentContainerSelector=r.contentContainerSelector||!1,this.mainColumnSelector=r.mainColumnSelector||!1),this.railSelector=r.railSelector||!1,this.customStyles=r.customStyles||!1,this.additionalLogic=r.additionalLogic||[],this.offset=r.offset||0,this.screenSizeThreshold=r.screenSizeThreshold||625,this.dockIfTooTall=r.dockIfTooTall||!1,this.body=t.body,g()?(this.rail=n.dom.lookup(this.railSelector,!0,!0)[this.railNum],this.rail.classList.add(this.identifier),this.dockingElementSelector=this.classIdentifier+" "+this.dockingElementSelector,this.dockingElement=n.dom.lookup(this.dockingElementSelector,!1,!0)):(this.contentContainer=n.dom.lookup(this.contentContainerSelector,!0,!0)[this.railNum],this.contentContainer.classList.add(this.identifier),this.contentContainerSelector=this.classIdentifier+this.contentContainerSelector,this.mainColumnSelector=this.classIdentifier+" "+this.mainColumnSelector,this.dockingElementSelector=this.classIdentifier+" "+this.railSelector+" "+this.dockingElementSelector,this.railSelector=this.classIdentifier+" "+this.railSelector,this.rail=n.dom.lookup(this.railSelector,!1,!0),this.mainColumn=n.dom.lookup(this.mainColumnSelector,!1,!0),this.dockingElement=n.dom.lookup(this.dockingElementSelector,!1,!0),this.contentContainer=n.dom.lookup(this.contentContainerSelector,!1,!0)),this.getOffset=function(e){let t=0,n=100;for(;e!==this.body&&null!==e&&0!==n;)t+=e.offsetTop,e=e.offsetParent,n--;return 0!==n&&null!==e||(a(o+"Failed to find offset parent for "+this.dockingElementSelector+"["+this.railNum+"]"),this.releaseAtTop(),this.disable()),t},this.disable=function(){this.enabled=!1},this.releaseAtTop=function(){this.removeInlineStyle(),this.pos=this.update("top")},this.releaseAtBottom=function(){this.pos=this.update("bottom");const e=g()?this.rail.offsetHeight-this.dockingElement.offsetHeight:this.mainColumn.offsetHeight-this.dockingElement.offsetHeight;this.dockingElement.style.top=e+"px",c.indexOf(this)>0&&(this.dockingElement.style.position="relative")},this.removeInlineStyle=function(){"bottom"===this.pos&&(this.dockingElement.style.top="",this.dockingElement.style.position="")},this.park=function(){this.removeInlineStyle(),this.pos=this.update("stuck")},this.update=function(e){return s||(e="top"),-1===this.dockingElement.className.indexOf("karma-sticky-")?this.dockingElement.className+=" karma-sticky-"+e:this.dockingElement.className=this.dockingElement.className.replace(i,"karma-sticky-"+e),e},this.check=function(){const t=g()?d<this.screenSizeThreshold||!this.dockIfTooTall&&this.dockingElement.offsetHeight+this.offset>d:d<this.screenSizeThreshold||this.mainColumn.offsetHeight<this.rail.offsetHeight||!this.dockIfTooTall&&this.dockingElement.offsetHeight+this.offset>d,n="stuck"!==this.pos&&"bottom"!==this.pos&&e.pageYOffset>this.getOffset(this.dockingPlaceholder)-this.offset,i="top"!==this.pos&&"bottom"!==this.pos,o=e.pageYOffset<=this.getOffset(this.dockingPlaceholder)-this.offset,r=g()?e.pageYOffset+this.offset+this.dockingElement.offsetHeight>this.getOffset(this.rail)+this.rail.offsetHeight:e.pageYOffset+this.offset+this.dockingElement.offsetHeight>this.getOffset(this.mainColumn)+this.mainColumn.offsetHeight,a=g()?"top"!==this.pos&&"stuck"!==this.pos&&e.pageYOffset+this.offset+this.dockingElement.offsetHeight<=this.getOffset(this.rail)+this.rail.offsetHeight:"top"!==this.pos&&"stuck"!==this.pos&&e.pageYOffset+this.offset+this.dockingElement.offsetHeight<=this.getOffset(this.mainColumn)+this.mainColumn.offsetHeight;g()&&this.dockingElement.offsetHeight>=this.rail.offsetHeight?this.disable():t?this.releaseAtTop():n?this.park():i?o?this.releaseAtTop():r&&this.releaseAtBottom():a&&this.park()},s&&this.dockingElementSelector&&(g()||this.mainColumnSelector)&&this.railSelector||s&&(a("Rail #"+(this.railNum+1)+" Disabled: Missing selectors: dockingElementSelector: "+this.dockingElementSelector+", mainColumnSelector: "+(g()?this.dockingElementSelector+", mainColumnSelector: "+this.mainColumnSelector+", railSelector: ":this.dockingElementSelector+", railSelector: ")+this.railSelector,{level:"warn",doc:"karma-docking"}),this.disable()),n.docking.processAdditionalLogic(this.additionalLogic)||s&&(a(o+"Disabled via additionalLogic",{doc:"karma-docking"}),this.disable()),g()||this.rail||u.push('rail: "'+this.railSelector+'"'),!s||g()||this.contentContainer||(a(o+"Cannot find DOM Element contentContainer for rail #"+(this.railNum+1)+", selector: "+this.contentContainerSelector,{level:"warn",doc:"karma-docking"}),this.disable()),s&&g()&&!this.rail&&(a(o+"Cannot find the rail DOM Element for rail #"+(this.railNum+1)+", selector: "+this.railSelector,{level:"warn",doc:"karma-docking"}),this.disable()),this.body||this.disable(),!this.dockingElement){const e=this.dockingElementSelector;this.dockingElementSelector=this.railSelector+" .karma-rail-docking-element",this.dockingElement=n.dom.lookup(this.dockingElementSelector),this.dockingElement||u.push('dockingElement: "'+e+'"')}if(g()||this.mainColumn||u.push('mainColumn: "'+this.mainColumnSelector+'"'),u.length>0&&(a("Rail #"+(this.railNum+1)+" Disabled: missing elements "+u.join(", "),{force:!0,level:"warn",doc:"karma-docking"}),this.disable()),M.docking.rail&&(M.docking.rail.enabled=s),s=m(),!s||!this.enabled)return;this.dockingParent=this.dockingElement.parentElement;const f=n.dom.create("div",this.dockingParent,{className:"karma-docking-rail-placeholder",styles:"margin:0;height:0;"},this.dockingElement);this.dockingPlaceholder=f,this.dockingElementSelector+=".karma-sticky-",this.leaderboardHeight=n.docking.leaderboard.getBannerSelectorHeight(),this.css=this.railSelector+", "+this.dockingElementSelector+"top{position:relative}"+this.dockingElementSelector+"stuck{position:fixed;top:"+this.offset+"px}"+this.dockingElementSelector+"stuck.dockedLeaderboard{top:"+(this.offset+this.leaderboardHeight)+"px}"+this.dockingElementSelector+"stuck.dockedLeaderboard.undockingLeaderboard{top:"+this.offset+"px;transition:top 1s;z-index:500;}"+this.dockingElementSelector+"bottom{position:absolute;}"+this.customStyles,n.docking.appendStyleSheetCss(this.css),this.enabled&&this.check()}catch(e){a("Rail Docking: "+e.toString(),{level:"error",force:!0})}}function p(){h(c,(function(e){e.enabled&&e.check()}))}function m(){return M.docking=M.docking||{},l=M.docking.rail||{},"boolean"!=typeof s&&(s=u(l.enabled)),s}function b(){if(!m())return;l=M.docking.rail||{},e.addEventListener("orientationchange",(function(){d=e.innerHeight})),h(["touchstart","touchmove","touchend","scroll"],(function(e){t.addEventListener(e,n.docking.rail.checkAll)}));let i,r=g()?n.dom.lookup(l.railSelector,!0,!0)||[]:n.dom.lookup(l.contentContainerSelector,!0,!0)||[],u=0;g()||l.multi||(r=r[0]?r[0]:[]),0===r.length?a(o+"Missing DOM Element contentContainer, selector: "+l.contentContainerSelector,{level:"error",doc:"karma-docking"}):h(r,(function(){i=new f(l,u),i.enabled&&c.push(i),u++})),0===c.length&&(s=!1),M.docking.rail.enabled=s}function y(e,t){r.event=e,r.useTransition=t,m()&&h(c,(function(t){switch(e){case"leaderboardDocked":t.offset+=t.leaderboardHeight,t.dockingElement.classList.add("dockedLeaderboard");break;case"leaderboardUndocked":t.offset-=t.leaderboardHeight,t.useTransition?(t.dockingElement.classList.add("undockingLeaderboard"),setTimeout((function(){t.dockingElement.classList.remove("undockingLeaderboard"),t.dockingElement.classList.remove("dockedLeaderboard")}),1e3)):t.dockingElement.classList.remove("dockedLeaderboard")}})),p()}return{init:b,checkAll:p,disableAllRails:function(){h(c,(function(e){e.enabled&&(e.releaseAtTop(),e.disable()),s=!1,M.docking.rail.enabled=!1}))},isGrid:g,getRails:function(){return c},isEnabled:m,leaderboardEventHandler:y,rebuildRails:function(){if(s){c=[];const e=n.dom.lookup(".karma-docking-rail-placeholder",!0,!0);h(e,(function(e){e.parentNode.removeChild(e)})),b(),c.length>0&&"top"!==c[0].pos&&y(r.event,r.useTransition),p()}}}}(),n.dom=function(){"use strict";function e(e){return(e="string"==typeof e?n.slots.getById(e):e)?(e.dom||(e.dom=t.getElementById(e.slotContainer)),e.dom):null}function o(t){const n=e(t),i=!!n&&!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length);return t.isDisplayed=i,i}function s(e,n,i,o){i=i||!1,n=n||!1;let r=e;if(o&&o.id?r="#"+o.id+" "+e:o=t,!i&&D.els.hasOwnProperty(r))return D.els[r];const a="#"===e.charAt(0)&&-1===e.indexOf(" ");return D.els[r]=a?o.getElementById(e.substring(1)):n?o.querySelectorAll(e):o.querySelector(e),D.els[r]}return{isDisplayed:o,scrapeSlots:function(e){const t=s('div[id^="div-gpt"]',!0),i=[];let o,r,l;return h(t,(function(t){e&&t.childNodes.length&&(t.textContent=""),l=t.dataset,r=l&&n.tiers.isValidTier(l.tier)?l.tier:0,o=t.id+":tier"+r,0===r&&a("Slot "+o+' does not have a valid data-tier attribute. <div id="'+o+'"'+(l.tier?' data-tier="'+l.tier+'"':"")+">. It will be requested as tier0.",{force:!0,level:"warn"}),-1===i.indexOf(o)&&i.push(o)})),0===i.length&&i.push("none"),i},get:e,create:function(e,n,i,o){n=n||!1,o=o||!1;const r=t.createElement(e);return"object"==typeof i&&h(i,(function(e){-1!==e.indexOf("data-")?r.setAttribute(e,i[e]):r[e]=i[e]})),n&&(o?n.insertBefore(r,o):n.appendChild(r)),r},lookup:s,ready:function(e){let n=!1;function o(e,t){n||(n=!0,t&&a(t+", slot setup continuing"),e())}2!==r?M.bypassDOMReady||"loading"===t.readyState?Array.isArray(i.cmd)&&i.cmd.filter((function(e){return"go"===e})).length>0?o(e,"Site already called go"):(M.go=function(){o(e,"Site is calling go")},M.bypassDOMReady||t.addEventListener("DOMContentLoaded",(function(){o(e,"DOMContentLoaded firing")}))):o(e,"DOMContentLoaded already triggered"):o(e)},remove:function(e){return e.parentNode.removeChild(e)},getVisibleSlots:function(t){const n=[];return h(t=t||[],(function(t){o(t)||t.outOfPage||function(t){const n=e(t).dataset,i=n.karmaBypassVisibilityCheck,o=u(i);return void 0!==i&&"processed"!==i&&(t.bypassVisibilityCheck=o,n.karmaBypassVisibilityCheck="processed"),t.bypassVisibilityCheck||!1}(t)?n.push(t):a("Did not request "+t.slotContainer+" because the container is not displayed.",{force:!0,level:"warn"})})),n}}}(),n.gpt=function(){"use strict";let e=googletag.mdpScriptCalled||!1,t=!1;function o(e){"string"==typeof(e=e||n.muid.getMuid())&&e.length>0&&googletag.pubads().setPublisherProvidedId(e)}function r(e){l((function(){googletag.display(e)}))}function l(e){"function"==typeof e&&googletag.cmd.push(e)}return{addCallback:function(e,t){t=t||"slotRenderEnded","function"==typeof e&&l((function(){googletag.pubads().addEventListener(t,e)}))},clearPageTargeting:function(e){l((function(){googletag.pubads().clearTargeting(s(e))}))},clearSlotTargeting:function(e,t){e&&l(void 0!==t?function(){e.gptSlot().clearTargeting(s(t))}:function(){e.gptSlot().clearTargeting()})},define:function(e,t,i){let o;return n.slots.makeHandle(e),o=e.outOfPage?googletag.defineOutOfPageSlot(t,i).addService(googletag.pubads()):googletag.defineSlot(t,n.slots.convertAdSizes(e),i).addService(googletag.pubads()),e.gptSlot=function(){const e=this.slotContainer,t=googletag.pubads().getSlots().filter((function(t){return t.getSlotElementId()===e}));return!!t.length&&t[0]},o},destroy:function(e){e=Array.isArray(e)?e:[e],l((function(){googletag.destroySlots(e)}))},display:r,displayAllSlots:function(){h(i.slots.catalog,(function(e){e.slotType&&r(e.slotContainer)}))},enable:function(){t||(t=!0,googletag.pubads().enableSingleRequest(),n.privacy.check(),o(),googletag.pubads().disableInitialLoad(),googletag.enableServices())},getSlotTargeting:function(e){return e.gptSlot().getTargetingMap()},init:function(){googletag.mdpScriptCalled||e||(e=!0,y("https://securepubads.g.doubleclick.net/tag/js/gpt.js",!1,n.kismet.report),googletag.mdpScriptCalled=!0,a({report:!0,label:"gptReady"}))},queuePush:l,refresh:function(e){l((function(){googletag.pubads().clear(e),googletag.pubads().refresh(e)}))},restrictDataProcessing:function(e){(e=e||!1)&&a("Restricting data processing in GPT",{force:!0}),googletag.pubads().setPrivacySettings({restrictDataProcessing:e})},setNonPersonalizedAds:function(e){(e=e||!1)&&a("Enabling non-personalized ads in GPT",{force:!0}),googletag.pubads().setRequestNonPersonalizedAds(e?1:0)},setPageTargeting:function(e,t){l((function(){googletag.pubads().setTargeting(s(e),s(t))}))},setPublisherProvidedId:o,setSlotTargeting:function(e,t,n){void 0!==e&&!1!==e&&l((function(){e.gptSlot().setTargeting(s(t),s(n))}))},setSlotTargetingMap:function(e,t){void 0!==e&&!1!==e&&R(t)&&l((function(){e.gptSlot().updateTargetingFromMap(t)}))}}}(),n.kismet=function(){"use strict";return D.kismet={checked:!1,reported:!1},{report:function(e){e="string"==typeof e?e:"spacer2",null!==n.dom.lookup('img[src$="kismet/'+e+'.png"]')||(y("/kismet/"+e+".png",!1,!1,"img"),D.kismet.reported=!0)}}}(),n.log=function(){"use strict";let t=0;const i={},o={},r=!!e.performance&&"function"==typeof e.performance.now,a=r?performance.timing.responseEnd-performance.timing.fetchStart:0;function s(e,o){"object"==typeof e?e=(o=e).label||"":o=o||{};let s=o.report||!1;const l=o.referencePoint||!1,c=o.level?o.level:"red"===o.color?"error":"log",d=(r?Math.floor(performance.now()):0)-a,u=!(!l||!i[l])&&d-i[l].timestamp,g=u?" : "+l+" +"+u:"",f=!("range"!==s||!u)&&function(e){const t=Math.floor(e/100),n=t===e/100?100*t-99:100*t+1;return n+"-"+(n+99)}(u),p=!(!o.label||e===o.label),h=o.force||!1,m=o.doc||!1,b=o.reportLabel||!1,y=o.reportValueOverride||null;t++;let v=o.label||"entry"+t;i[v]&&(v="entry"+t,s=!1),i[v]={reportValueOverride:y,timestamp:d,referencePoint:l,eventDelta:u,eventDeltaMessage:g,consoleMessage:d+(p?" : "+v:"")+" : "+e+g+(f?" ("+f+")":""),report:s,reportLabel:b,reportValue:y||u||d,reported:!1,level:c},(D.debug||h)&&n.debug.consoleLog(e,c,m)}return D.logObject=i,{getTiming:function(e){if(!r)return!1;const t=performance.getEntriesByType("resource").filter((function(t){return t.name===e}));return!!t.length&&Math.floor(t[0].duration)},log:s,logOnceAndReport:function(e,t){"object"==typeof e?e=(t=e).label||"":t=t||{},o[t.label]||(o[t.label]=!0,(t=t||{}).report=!0,s(e,t))}}}(),a=n.log.log,n.methods={init:function(){const e={debug:n.debug.publicDebug,showLog:n.debug.showLog,log:n.log.log,init:n.timeline.init,createSlot:n.lazyLoad.create,fillSlots:n.lazyLoad.fill,destroySlot:n.slots.destroy,updateTargeting:n.targeting.setTargetingMap,getSlotById:n.slots.getById,getSlotCount:n.slots.getSlotCount,disableTimedRefreshOnSlot:n.refresh.timed.disableTimedRefreshOnSlot,reEnableTimedRefreshOnSlot:n.refresh.timed.reEnableTimedRefreshOnSlot,releaseDocking:n.docking.disableDocking,initDocking:n.docking.leaderboard.restart,report:n.reporting.segmentReport,isInView:n.viewability.isInView,refresh:n.refresh.startRefresh,setBypassViewabilityRequirement:n.viewability.setBypassViewabilityRequirement,purgeRefreshSlots:n.refresh.purgeSlots,rebuildRails:n.docking.rail.rebuildRails,resetVideoTargeting:n.video.resetTargeting,updateVideoTargeting:n.video.updateTargeting};h(e,(function(t){i[t]=e[t]}))}},n.muid=function(){function i(){let t=(new Date).getTime();return void 0===e.performance&&(t+=e.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}const o=function(){let t={setItem:P};try{localStorage.setItem("__test",1),localStorage.removeItem("__test"),t=e.localStorage}catch(e){a(e,{force:!0})}return t}();function r(e,t){o.setItem(e,t);const n=new Date;n.setTime(Date.now()+63072e6);const i="; expires="+n.toUTCString();document.cookie=e+"="+(t||"")+i+";path=/"}function s(){const e={},t=document.cookie.split(";");for(let n=0;n<t.length;n++){const i=t[n].trim().split("=");i.length>1&&""!==i[1]&&'""'!==i[1]&&(e[i[0].trim()]=i[1].trim())}return e}function l(){"string"!=typeof o.msg||D.msg||(D.msg=JSON.parse(o.msg))}function c(){if(n.urlVars.get("testMuid"))return n.urlVars.get("testMuid");if(e.globalTI&&e.globalTI.session)return e.globalTI.session;return s["globalTI_SID"]||o.globalTI_SID||(a("Generating MUID from scratch",{force:!0}),i())}return{init:function(){const d=!!D.url.pixelDebug&&u(D.url.pixelDebug),g="https://d9jj3mjthpub.cloudfront.net/x.gif",f=e.location.hostname.toLowerCase(),p=e.location.href,h=t.referrer===p?"":t.referrer,m=s();e.globalTI=e.globalTI||{};const b=m.globalTI_SID,v=c();let S;b||(r("globalTI_SID",v),r("muuid_source","CLIENT"),o.setItem("pixel_lite_muid","true")),e.globalTI.session=v,e.globalTI.request_id||(e.globalTI.request_id=i()),S||A((function(){S=m.mdpaccount.match(/hashId":"([a-z0-9-]{20,})/i)[1]}),P),S||A((function(){S=decodeURIComponent(m.monetate_profile).match(/hashId":"([a-z0-9-]{20,})/i)[1]}),P),S||'""'===m.hid||(S=m.hid);let k=document.cookie.match(/TastePrefs(\d+)/);k=k&&k[1]?k[1]:null;const w={pulse:-1,v:"l1.0.15",type:"karma",globalTI_SID:v,hid:S,request_id:e.globalTI.request_id,url:p,ref:h,recipes_user_id:k,host:f};e.globalTI.lite_capture=w;const T=[];let C;for(C in w)w.hasOwnProperty(C)&&w[C]&&'""'!==w[C]&&T.push(C+"="+encodeURIComponent(w[C]));var x;x=g+"?"+T.join("&"),a("Appending MUID pixel to the document"),n.dom.create("img",t.body,{src:x,height:"1",width:"1",alt:""});const E=o.msg_date;(!E||(new Date).getTime()-E>864e5)&&delete o.msg,!o.msg&&function(e){return"string"==typeof e&&36===e.length&&5===e.split("-").length}(v)?y("https://qpsftq5jqg.execute-api.us-east-1.amazonaws.com/production/segments?muid="+v,l):l(),d&&e.console&&e.console.assert&&(a("Pixel URL:"+g+"?"+T.join("&"),{force:!0}),a("Pixel output Object",w,{force:!0}),e.globalTI.request_id)},generateMuid:i,getMuid:c,getRequestId:function(){return e.globalTI&&e.globalTI.request_id?e.globalTI.request_id:(a("Generating Meredith Request Id from scratch",{force:!0}),i())}}}(),n.partner=n.partner||{},n.partner.a9=function(){"use strict";D.a9={slots:{}};let t=[],i=!1;function o(){e.apstag&&e.apstag.init&&apstag.init({pubID:M.a9PubId,adServer:"googletag",videoAdServer:"DFP",deals:!0,params:{aps_privacy:n.privacy.getCcpaConsentString(),si_pagegroup:M.targeting.channel}})}function r(e){const t=[],o=1===e.length&&e[0].isPreroll;let r;var a;return o?(e=e.splice(0,1),r=[]):(h(e||D.a9.slots,(function(e){e.a9Sizes=n.slots.getSizes(e,"A9")||[],t.push(e)})),r=t.map((function(e){return{slotID:e.slotContainer,sizes:e.a9Sizes,slotName:e.handle.hbSlotName}}))),a=o,M.a9PrerollEnabled&n.video.getVideoId()&&(a||!i)&&(i=!0,r.push({slotID:"preroll",mediaType:"video"})),r}function s(e){return D.a9.slots[e]||!1}return{load:function(){!function(e,t){function n(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){n("i",arguments)},fetchBids:function(){n("f",arguments)},_Q:[]})}("apstag",e);const t="https://c.amazon-adsystem.com/aax2/apstag.js";a({label:"a9JsRequested"}),y(t,(function(){a({report:!0,label:"a9JsLoaded",referencePoint:"a9JsRequested",reportValueOverride:n.log.getTiming(t)})})),o()},init:o,fetchBids:function(e,i,o){const l=n.partner.getTimeoutLengths(i);let c=!1,d=!1;function u(e){let t;h(e,(function(e){t=s(e.slotID),t&&(t.a9Targeting=e.targeting,t.a9Targeting.size=e.size,t.a9Targeting.slotID=e.slotID)}))}function g(e,i){switch(typeof i){case"undefined":i=s(e.slotID);break;case"string":i=s(i)}A((function(){t=apstag.targetingKeys()||[],Array.isArray(t)||(t=[],a("Unexpected format for a9TargetingKeys: "+typeof apstag.targetingKeys()))})),i&&h(e.helpers.targetingKeys,(function(t){n.targeting.set(t,e.targeting[t],i)}))}function f(e){return Array.isArray(e)?e:(a("Unexpected data structure from a9. Ignoring response.",{force:!0,level:"warn"}),[])}e=e.filter((function(e){return!0===e.a9||e.isPreroll})),h(e,(function(e){e.isPreroll||(delete e.a9Targeting,h(t,(function(t){n.targeting.clear(t,e)})))})),a("starting a9 timeout: "+l.karmaEnforced),a("passing timeout to a9: "+l.partnerEnforced),A((function(){a({label:"a9BidsRequested"}),apstag.fetchBids({slots:r(e),timeout:l.partnerEnforced},(function(e){n.log.logOnceAndReport({label:"a9BidsRecieved",referencePoint:"initDemandFetch"}),n.log.logOnceAndReport("a9FailsafeHit: "+c,{label:"a9FailsafeHit",reportValueOverride:c+""}),A((function(){!function(e,t,i,o,r){e=r(e),c||(h(e,(function(e){e.hasOwnProperty("slotID")&&("preroll"===e.slotID?n.video.setTargeting(e.targeting):o(e,s(e.slotID)))})),d=!0,i(e),"function"==typeof t&&t())}(e,o,u,g,f)}))}))})),setTimeout((function(){c=!0,d||(a("a9 did not load before karma-enforced timeout period ended. "+l.karmaEnforced+"ms",{force:!0,level:"warn"}),o())}),l.karmaEnforced)}}}(),n.partner=n.partner||{},n.partner.aam=function(){function e(){return!!M.aamEnabled}return{load:function(){e()&&y("//aamapi.com/api/init-182h1kagypftheeqt3p.js",(function(){a("AAM loaded.")}),(function(){a("Failed to fetch AAM.",{level:"error",force:!0}),M.aamEnabled=!1}),!1,{"data-cfasync":"false",async:"true"})},isEnabled:e}}(),n.partner=n.partner||{},n.partner.adLightning=function(){function e(){return!!M.adLightningEnabled}return{load:function(){e()&&y("https://tagan.adlightning.com/meredith/op.js",(function(){a("adlightning loaded.")}),(function(){a("Failed to fetch adlightning.",{level:"error",force:!0}),M.adLightningEnabled=!1}))},isEnabled:e}}(),n.partner=n.partner||{},n.partner.header_tag_manager=function(){"use strict";D.header_tag_manager={slots:{}},e.headertag=e.headertag||{},e.headertag.cmd=e.headertag.cmd||[];const t=[{low:10,high:2e3,increment:10},{low:2001,high:5e3,increment:20},{low:5001,high:1e4,increment:50}];function o(){return M.header_tag_managerEnabled}function r(t){A((function(){e.headertag.cmd.push(t)}))}function s(){M.indexPrerollEnabled&&n.video.getVideoId()&&r((function(){window.headertag.retrieveVideoDemand([{htSlotName:"preroll"}],(function(e){!function(e){A((function(){let i,o,r;R(e)&&Array.isArray(e.preroll)&&R(e.preroll[0])&&e.preroll[0].hasOwnProperty("targeting")&&(e.preroll.sort((function(e,t){return e.price<t.price?1:-1})),o=e.preroll[0],r=I(o.price,t),i=o.targeting,i.price.ix_v_bid=r,n.video.setTargeting(i.price),n.video.setTargeting(i.deal))}),(function(e){a("Error processing Index video bid request: "+e,{level:"error"})}))}(e)}),{timeout:n.partner.getTimeoutLengths("video").partnerEnforced})}))}return{fetchBids:function(t,o,s){const l=function(e){const t=[],n=[];return e=e.filter((function(e){return e.header_tag_manager})),h(e,(function(e){const i=e.handle.hbSlotName;-1===n.indexOf(i)&&(e.ixSlotName=i,n.push(i),t.push({htSlotName:i}))})),t}(t),c=n.partner.getTimeoutLengths(o);let d=!1,u=!1,g=[];h(t,(function(e){g.push(e.slotContainer)})),g=g.join(", "),0!==l.length?(a("Requesting ix demand for the following slots: "+g),r((function(){const t=n.partner.getTimeoutLengths(o),r={};"hard"===o&&!M.useAdaptiveTimeout||"hard"!==o?r.timeout=t.partnerEnforced:(D.adaptiveTimeout=e.headertag.getTimeout(),r.timeout=D.adaptiveTimeout>t.failsafe-200?t.failsafe-200:D.adaptiveTimeout,function(e){const t=I(e,[{low:0,high:999999,increment:250}],!0);a("Using HTM adaptive timeout value: "+e,{label:"htmAdaptiveTimeoutValue",report:!0,reportValueOverride:t})}(r.timeout)),a({label:"htmBidsRequested"}),a("Passing timeout to ix: "+r.timeout),e.headertag.retrieveDemand(l,(function(e){n.log.logOnceAndReport({label:"htmBidsRecieved",referencePoint:"initDemandFetch"}),n.log.logOnceAndReport("htmFailsafeHit: "+d,{label:"htmFailsafeHit",reportValueOverride:d+""}),function(e){if("object"==typeof e.slot&&Object.keys(e.slot).length){const t=e.slot;h(t,(function(e){const o=i.slots.catalog.filter((function(t){return t.ixSlotName===e}))[0],r=t[e]||[];o.ixSlotName=null,r.sort((function(e,t){return e.price>t.price?1:-1})),h(r,(function(e){const t=e.targeting;h(t,(function(e){n.targeting.set(e,t[e],o)}))}))}))}else a("No valid ix bids returned");u=!0,d||s(),h(i.slots.catalog,(function(e){e.ixSlotName=null}))}(e)}),r)})),a("Starting ix timeout: "+c.karmaEnforced),setTimeout((function(){d=!0,u||(a("ix did not load before the "+c.message+" timeout period ended. "+c.karmaEnforced+"ms",{force:!0,level:"warn"}),s())}),c.karmaEnforced)):s()},fetchVideoBids:s,load:function(){if(o()){const e=function(){const e=M.ixSiteId;return e?"https://js-sec.indexww.com/ht/p/184003-"+e+".js":(M.header_tag_managerEnabled=!1,!1)}();e&&(a({label:"htmJsRequested"}),y(e,(function(){a({label:"htmJsLoaded",report:!0,referencePoint:"htmJsRequested",reportValueOverride:n.log.getTiming(e)}),a("ix site-specific wrapper loaded: "+e)}),(function(){a("Failed to fetch site-specific ix wrapper ("+e+"). Disabling ix.",{level:"error",force:!0}),M.header_tag_managerEnabled=!1})))}r((function(){if(e.headertag.subscribeEvent("error",!1,(function(e,t){a("headertag "+e+": "+t,{force:!0,level:"error"})})),e.headertag.subscribeEvent("warning",!1,(function(e,t){a("headertag "+e+": "+t,{force:!0,level:"warn"})})),Array.isArray(i.vars.msg)){const t=i.vars.msg.map((function(e){return"("+e+")"}));e.headertag.setUserKeyValueData({user:{keywords:t}})}})),s()},isEnabled:o}}(),n.privacy=function(){"use strict";function t(e){return e?-1!==D.euCountryCodes.indexOf(e):null}function i(){let e=S("OptanonConsent");return e?(e=d(S("OptanonConsent"),!1),a("OneTrust cookie is present, with this data: "+JSON.stringify(e)),e):null}function o(e){return!(e=e||i())||!(e.hasOwnProperty("groups")&&-1!==e.groups.indexOf("4:0"))}function r(){return e.otStubData&&"object"==typeof window.otStubData.userLocation?e.otStubData.userLocation:null}function s(e){return(e=e||r())&&e.hasOwnProperty("country")&&(D.isUserInUsa="US"===e.country),D.isUserInUsa}function l(e){e=e||i();let t=null;return A((function(){t=e.groups.split(",").filter((function(e){return"4"===e.charAt(0)&&":"===e.charAt(1)}))}),(function(){a("Something went wrong when trying to check the groups param of the Onetrust consent cookie",{force:!0})})),t}return M.usPrivacy=M.usPrivacy||{enabled:!1},M.euPrivacy=M.euPrivacy||{enabled:!1},D.isUserInEurope=null,D.isUserInUsa=null,D.euCountryCodes=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],{check:function(){const e=i(),a=r();if(e){const n=!o(e),l=function(e){if((e=e||i())&&e.hasOwnProperty("interactionCount")){const t=parseInt(e.interactionCount,10);return isNaN(t)?null:t}return null}(e);M.usPrivacy.enabled=!!(s(a)&&n&&null!==l&&l>0),M.euPrivacy.enabled=!(!function(e){return(e=e||r())&&e.hasOwnProperty("country")&&(D.isUserInEurope=t(e.country)),D.isUserInEurope}(a)||!n)}n.gpt.setNonPersonalizedAds(M.euPrivacy.enabled),n.gpt.restrictDataProcessing(M.usPrivacy.enabled),function(e,o){e=e||i(),o=o||r(),M.euPrivacy.enabled?n.targeting.set("npa",1):n.targeting.clear("npa"),M.usPrivacy.enabled?n.targeting.set("rdp",1):n.targeting.clear("rdp"),e&&(e.hasOwnProperty("groups")?n.targeting.set("otgrp",l(e)):n.targeting.set("otgrp",null),e.hasOwnProperty("interactionCount")?n.targeting.set("otic",e.interactionCount):n.targeting.set("otic",null)),o&&o.hasOwnProperty("country")&&("US"===o.country?n.targeting.set("otgeo",2):t(o.country)?n.targeting.set("otgeo",1):n.targeting.set("otgeo",0))}(e,a),D.url.hasOwnProperty("adprivacypartneroverride")&&"true"===D.url.adprivacypartneroverride||!M.usPrivacy.enabled&&!M.euPrivacy.enabled||((M.onPageSettings.config.usPrivacy&&M.onPageSettings.config.usPrivacy.enabled||M.euPrivacy.enabled)&&(M.a9Enabled=!1),M.header_tag_managerEnabled=!1,M.prebidEnabled=!1),M.a9Enabled&&n.partner.a9.init()},getCcpaConsentString:function(){const e=["1"];return s()?(e.push("Y"),o()?e.push("N"):e.push("Y")):e.push("-","-"),D.ccpaConsentString=e.join(""),D.ccpaConsentString},getOneTrustGroups:l,hasUserConsented:o}}(),n.refresh=n.refresh||{},n.refresh.timed=function(){"use strict";const t={},o=["scroll","focus","blur","click"];let r,s,c,d,u,g,f,b=[],y=!1;function v(){return!!(M.refresh&&M.refresh.timed&&M.refresh.timed.enabled&&M.refresh.timed.map&&"object"==typeof M.refresh.timed.map&&Object.keys(M.refresh.timed.map).length>0)||(a("Timed refresh disabled for this page by config."),!1)}function S(){if(!v())return;const d=function(){let a,d,u;return r=i.slots.catalog,h(r,(function(e){if("object"!=typeof e.timedRefresh&&(e.timedRefresh={}),!e.handle||!e.handle.full)return!1;if(!e.requested)return!1;if(!t.hasOwnProperty(e.slotContainer)&&!1!==e.timedRefresh.enabled){for(a in b)if(d=b[a],n.slots.matchHandle(e,a)&&d.mode){u=l(d),t[e.slotContainer]=u,s++,e.timedRefresh=u;break}e.timedRefresh.enabled=!1}})),s>0&&!y?(y=!0,h(o,(function(t){e.addEventListener(t,c,!0)}))):s<=0&&y&&(y=!1,h(o,(function(t){e.removeEventListener(t,c)}))),!0}();let u,f,p;if(s>0){if(!d)return void a("An ad slot is missing a handle. Aborting slot swap.",{force:!0,level:"warn"});h(t,(function(e){f=n.slots.getById(e),u=function(e){if(!e.requested||e.inFlight)return!1;let t=!1;return T(e)&&!function(e){return e.timedRefreshOverride||!1}(e)&&(t=!0,e.timedRefreshOverride=!1),t}(f),p=function(e){const t=e.refreshIntervalOverrides,i=e.timedRefresh.mode||"refresh";let o=2e4,r=0;return t&&t[i]?o=t[i]:g[i]&&g[i][e.tierString]&&(o=g[i][e.tierString]),n.partner.isAnyPartnerEnabledOnSlot(e)&&(r=1e3*Math.ceil(M.bidTimeouts.timed/1e3),o-=r),[o,r]}(f),f.requested&&!f.timedRefresh.timerRunning&&u?k(f,p[0],p[1]):!u&&f.timedRefresh.timerRunning&&w(f)}))}}function k(e,t,i){const o=e.timedRefresh||{};o.timerRunning=!0,o.duration=t/=1e3,o.bidTimeout=i/1e3,"number"!=typeof o.timer&&(o.timer=t),a("Starting timer for "+e.slotContainer+": "+o.timer),o.interval=setInterval(function(e){return function(){e.timedRefresh.timer--,e.timedRefresh.timer>0||!n.slots.getById(e.slotContainer)||(w(e),T(e)&&(e.timedRefresh.timer=null,"swap"===e.timedRefresh.mode?function(e){const t=n.dom.get(e),i=e.timedRefresh,o=e.slotContainer,r=o.match(/(.*)-\d/),s=(r?r[1]:o)+"-tier"+i.swapToTier;let l=!1;if(!i.filled&&e.requested&&null!==t){t.id=s.replace("div-gpt","karma-reload-container"),t.style.height=t.clientHeight+"px",t.style.width=t.clientWidth+"px",n.slots.destroy(o);const i=n.lazyLoad.create(s,t,!1,(function(){t.style.height="",t.style.width=""}),{refreshType:"swap"}).id,r=n.slots.getById(i);a("Swapping "+e.handle.full+" to "+r.handle.full),r.refreshCount=e.refreshCount||0,r.shouldIncrementRefresh=!0,n.lazyLoad.fill(),l=!0}else a("Tried to swap "+t.id+", but failed. Disabling swap on this slot."),C(e)}(e):"refresh"===e.timedRefresh.mode&&(e.shouldIncrementRefresh=!0,e.refreshType="timed",n.requestQueue.process([e]))))}}(e),1e3)}function w(e){const t=e.timedRefresh||{};a("Pausing timer for "+e.slotContainer+": "+t.timer),t.timerRunning=!1,clearInterval(t.interval),t.interval=!1}function T(e){return n.viewability.isInView(e)}function C(e){t.hasOwnProperty(e.slotContainer)&&(delete t[e.slotContainer],e.timedRefresh=e.timedRefresh||{},e.timedRefresh.enabled=!1,s--)}return{check:S,disableTimedRefreshOnSlot:function(e,i){const o=n.slots.getById(e);i=i||!1,function(e){return e&&t.hasOwnProperty(e.slotContainer)&&!e.timedRefreshOverride}(o)&&(o.timedRefreshOverride=!0,i?(w(o),C(o)):S(),a("disableTimedRefreshOnSlot(): "+(i?"Permanently":"Temporarily")+" disabling timed refresh on "+e))},getActiveMap:function(){return t},init:function(){v()&&(r=i.slots.catalog,d=M.refresh||{},u=d.timed||{},f=u.refHubOverrides||{},g=function(){let e={};const t=i.config.refresh.timed.dayPartedIntervals||[],n=new Date,o=n.getTimezoneOffset()/60,r=new Date;r.setMonth(0);const a=5-(r.getTimezoneOffset()/60-o);n.setHours(n.getHours()+(o-a));const s=n.getHours();return t.forEach((function(t){s>=t.start&&s<t.end&&(e=t.intervals)})),0!==Object.keys(e).length&&e}()||!!(f&&D.url.ref_hub&&D.url.ref_hub.indexOf("arbit")>-1)&&m(u.intervals,f)||u.intervals||{},b=u.map||[],s=0,c=p(S,250),e.addEventListener("message",(function(e){if("string"==typeof e.data&&-1!==e.data.indexOf("karmaStopRefresh"))try{const t=JSON.parse(e.data);n.refresh.timed.disableTimedRefreshOnSlot("div-gpt-"+t.slot,!0)}catch(e){a(e.toString(),{level:"error",force:!0})}}),!1),S())},isEnabled:v,pauseSlotTimer:w,reEnableTimedRefreshOnSlot:function(e){const i=n.slots.getById(e);i&&t.hasOwnProperty(e)&&i.timedRefreshOverride&&(i.timedRefreshOverride=!1,S(),a("Re-enabling timed refresh on "+e))},removeSlot:C,resetSlotTimer:function(e){const t=e.timedRefresh||{};t.timer=t.duration,a("Resetting timer for "+e.slotContainer+": "+t.timer)},startSlotTimer:k}}(),n.reload=function(){"use strict";return{checkParams:function(e){e=e||"footer";const t=!!n.dom.lookup('script[src*="karma.mdpcdn.com"][data-reloaded="true"]'),i=w(e,t)||[],o=""===i[1]||void 0===i[1]?"www":i[1],s=!i[2]||"js-min"===i[2],l=n.urlVars.get("adTestEnv"),c=n.urlVars.get("adTestMin"),d=n.urlVars.get("usePrebid"),u=i[3]?i[3]:3===r?"karma.js":"karma."+e+".js",g=d?"karma.prebid.js":u,f=D.environment=l||o,p=D.minified=JSON.parse(c||"local"===f&&f!==o?"false":s),h="www"===f?"":f+".";let m;return D.scriptPath=i[0]||!1,o===f&&s===p&&u===g||t?(D.reloaded=t,!1):(m="https://"+h+"karma.mdpcdn.com"+("local"===f?":9999":"")+"/service/js"+(!0===p?"-min":"")+"/"+g,D.scriptPath=m,D.reloaded=!0,D.ready=!1,n.dom.create("script",D.els.head,{src:m,"data-reloaded":"true"}),a("Reloading KARMA "+e+" due to testing URL param. Env: "+f+", Min: "+p,{force:!0}),!0)}}}(),n.reporting=function(){const t=[];let o,r=!1,s=!1;function l(){const e=M.reportingEnabled;return"ga"!==e&&"segment"!==e?(r||(a("Reporting is misconfigured or not enabled for this site. No reports sent."),M.reportingEnabled=!1),r=!0,!1):"segment"===e||o?e:(r||(a("GA reporting is enabled for this site, but this pageview didn't fall inside the sample rate of "+M.reportingSampleRate+"%. No reports sent."),M.reportingEnabled=!1),r=!0,!1)}function c(t,i,o,r){const c=l(),d=["karmaRequest","karmaPerformance"],u="local"===k(),g=!(null!==n.urlVars.get("runKarmaTests"));if(!c)return s||(a("Reporting is disabled for this page."),s=!0),!1;if(!R(i))return a("The reportObject passed to karmads.reporting.report was not an object: "+typeof i,{force:1,level:"warn"}),!1;if(i.site=M.site,i.contentType=function(){const e=n.targeting.get("type"),t=D.unmappedPageType;return t!==e?t+":"+e:e}(),i.nonInteraction=1,r=r||o+": "+JSON.stringify(i),"ga"===c){if(!t)return a("Did not report to GA because this is a Segment-only kinda thing:"+r),!1;const e={category:"event",contentType:"karmaPageType"};h(e,(function(t){i.hasOwnProperty(t)&&!i.hasOwnProperty(e[t])&&(i[e[t]]=i[t],delete i[t])})),r=o+": "+JSON.stringify(i)}if(!g)return a("Did not report to "+c+", because we're on an automated testing page. "+r),!1;if(u)return a("Did not report to "+c+", because we're on local: "+r),!1;if("ga"===c&&"object"==typeof e.dataLayer&&"function"==typeof e.dataLayer.push)return e.dataLayer.push(i),a("Reported to GA: "+r),!0;if("object"==typeof e.analytics&&"function"==typeof e.analytics.track){if(-1===d.indexOf(o))return a('Did not report to Segment, because the eventType "'+o+'" was not one of: '+d.join(", ")+"; "+r),!1;e.analytics.track(o,i),a("Reported to Segment: "+r)}return!0}function d(){c(!0,{category:"adRequest",label:"slotInfo",karmaAdSlots:n.slots.getSlotIdTierCombos(i.slots.catalog),karmaChannel:n.targeting.get("channel"),karmaId:n.targeting.get("id")},"karmaRequest")}function u(e,t,n){c(!1,{category:e,label:n=n||"tracking",value:t},"karmaRequest")}function g(){let e,t=0;const n=l(),i={category:"karmaTimingBundle",label:"timing"};return"segment"===n&&(h(D.logObject,(function(n){if(e=D.logObject[n],e.report&&!e.reported){const o=e.reportValue;if(e.reported=!0,"number"==typeof o){if(0===o)return a("Attempted to send performance timing for "+n+" to Segment, but measured value is 0"),!1;if(o>=6e5)return a("Attempted to send performance timing for "+n+" to Segment, but measured value exceeds 599,999ms"),!1}n&&(i[n]=o),t++}})),t?(c(!1,i,"karmaPerformance"),t):void a("karmads.reporting.reportTiming() was called, but there was nothing to report"))}return{segmentReport:u,init:function(){M.refreshHeavyAds=M.refreshHeavyAds||!0,M.reportingSampleRate=M.reportingSampleRate||0,o=_(M.reportingSampleRate),d(),e.addEventListener("message",(function(e){if("string"==typeof e.data&&-1!==e.data.indexOf("HeavyAdIntervention"))try{!function(e){if("string"!=typeof e.slot||!n.slots.getById("div-gpt-"+e.slot))return!1;u("chromeHeavyAdIntervention",e.creativeId||!1,"tracking"),M.refreshHeavyAds&&(-1===t.indexOf(e.slot)?(t.push(e.slot),window.karma.refresh(["div-gpt-"+e.slot])):a("Chrome Heavy Ad Intervention blocked the ad in "+e.slot+" but the slot has already been force-refreshed once. Not refreshing again."))}(JSON.parse(e.data))}catch(t){a(t.toString()+" while trying to process HeavyAdIntervention. e.data: "+e.data,{level:"error",force:1})}}),!1)},report:c,reportTiming:g,reportType:l,initialSlots:d,lazyLoadSlot:function(e){c(!0,{category:"adSlotLazyLoad",label:"slotInfo",karmaAdSlots:[e],karmaChannel:n.targeting.get("channel"),karmaId:n.targeting.get("id")},"karmaRequest")},addEventListener:function(){n.gpt.addCallback((function(e){D.slotOnloadLogged||(a("Slot onload event for "+e.slot.getSlotElementId(),{label:"slotOnload",report:!0}),g(),D.slotOnloadLogged=!0)}),"slotOnload")}}}(),n.requestQueue=function(){"use strict";const o=[];let r,s,l=[],c=0;function d(e){return e.map((function(e){return e.gptSlot()}))}function u(e){if(e=g(e=e||[]),e=n.scrollLoad.removeOffScreenSlots(e),e=function(e){const t=M.maxActiveSlots||999,n=[],i=[];return h(e,(function(e){o.indexOf(e.slotContainer)>-1?n.push(e):o.length<t?(e.overMax=!1,o.push(e.slotContainer),n.push(e)):(e.overMax=!0,i.push(e.slotContainer),"processing"===e.scrollLoad&&(e.scrollLoad="true"))})),n.length<e.length&&a("Max active slot threshold("+t+") hit. Not requesting: "+i,{level:"warn",force:!0}),n}(e=n.dom.getVisibleSlots(e)),D.queueExecuted||(e=n.deferred.init(e,t.readyState)),Array.isArray(e)&&e.length>0&&(l=l.concat(e)),0!==l.length){if(D.requestInFlight)a("Refresh called, but Karma is still processing the previous ad request. Adding "+e.length+" slots to the refresh queue.");else{D.requestInFlight=!0,e=l.splice(0,s),h(e,(function(e){e.inFlight=!0,e.bypassViewabilityRequirement=!1}));const t=d(e);a("Refresh running on "+e.length+" slots."),n.refresh.targeting(e),a({label:"initDemandFetch"}),n.partner.initDemandFetch(e,t)}return e}}function g(e){let t=[];return h(e,(function(e){const i=n.dom.get(e);null===i||null===i.parentElement?n.slots.destroy(e.slotContainer):t.push(e)})),q()||(t=t.filter((function(e,t,n){return t===n.findIndex((function(t){return t.slotContainer===e.slotContainer}))}))),t}return{init:function(){r=f("karmaRequest"),s=i.config.maxRequestSize||30,n.gpt.addCallback((function(e){!function(e){const t=e.slot.getSlotId().getDomId(),i=n.slots.getById(t);i&&(i.requested=!0,i.inFlight=!1,n.slots.setResponseData(i,e),n.viewability.handleSpecialViewabilityRules(i)),c--,0===c&&(D.requestInFlight=!1,l.length>0?u(!1):D.queueExecuted&&n.refresh.timed.check())}(e)}))},process:u,finishRequest:function(t){let o=g(t);const s=i.slots.catalog.map((function(e){return e.slotContainer}));o=o.filter((function(e){return s.indexOf(e.slotContainer)>-1}));const l=o.map((function(e){return{slotContainer:e.slotContainer,refreshType:e.refreshType}}));q()||(r.detail=JSON.stringify(l)),e.dispatchEvent(r),c=o.length,n.privacy.check(),n.bidz.setFloors(o),n.targeting.prerequest(),n.docking.targeting(),n.targeting.ready(),n.translate.targetingReady(),n.refresh.incrementRefreshCounter(o),"hard"===o[0].refreshType&&a({report:!0,label:"adRequestSent"}),n.gpt.refresh(d(o))},removeFromActiveSlots:function(e){return e&&o.splice(o.indexOf(e),1),o}}}(),n.scrollLoad=function(){"use strict";let o,r,s=!1;function l(e){let r,s=i.slots.scrollLoad;if(0===s.length)return;try{r=e.slot.getSlotElementId()}catch(e){a(e.message,{force:!0,level:"error"})}const l=n.slots.getById(r);l.scrollLoad&&(l.scrollLoad="loaded",s=s.filter((function(e){return e.slotContainer!==r})),i.slots.scrollLoad=s,0===s.length&&(t.removeEventListener("scroll",o),t.removeEventListener("click",d)))}function c(e,t){const n=M.scrollLoadBatchSize||1,i=[];let o=0;return D.queueExecuted?(h(e,(function(e){u(e,t,o)&&(0===o&&(o=n),o--,i.push(e),e.scrollLoad="processing",e.refreshType="scroll")})),i):i}function d(){const e=c(i.slots.scrollLoad,r);e.length>0&&n.requestQueue.process(e)}function u(e,t,i){const o=Math.abs(n.viewability.getSlotOffsetFromViewport(e)),r=n.dom.isDisplayed(e);return"true"===e.scrollLoad&&r&&(o<t||i>0)}return{check:c,checkAndRequest:d,removeOffScreenSlots:function(a){const c=[];return s||(a=function(a){const c=[];return s=!0,r=g(M.scrollLoadThreshold)||100,h(a,(function(e){const t=n.dom.get(e),i=e.scrollLoad||t.dataset.scrollLoad||t.dataset.lazyScroll;"true"===i&&(c.push(e),e.scrollLoad=i)})),i.slots.scrollLoad=c,i.slots.scrollLoad.length>0&&(o=p(d,25),t.addEventListener("scroll",o),t.addEventListener("click",d),e.addEventListener("load",d),n.callbacks.add(l)),a}(a)),h(a,(function(e){"true"===e.scrollLoad?u(e,r)&&(e.scrollLoad="processing",c.push(e)):c.push(e)})),c}}}(),n.selectable=function(){"use strict";D.selectable={id:!1};const e={ag:{www:"LNhxaZJk",dev:"JWilnmZa"},aly:"AQpgugKT",apq:"DxnXoOoU",ar:{www:"ioRpChND",test:"QwsqdaRG"},arau:"nsPuedjs",arqc:"pNUDrUff",aruk:"TexCxYkZ",bestlife:"cUSLhXni",bhg:{www:"vnVjmqxi",dev:"FVffvCLg"},cdms:{www:"XnGwnkBX",test:"gYiKDmGY"},ckl:"DkGbnbKY",dep:"ZQYBEdmc",dp:"BuUbxgAl",eatthis:"fnrULVjH",enw:"bPxqAvRO",ew:"lZFhoFLn",fw:"qmjlIKrW",hellogiggles:"XcrQIMhE",hlt:"qBEZIJUa",ins:"meecEJMw",ironsearch:"zWDmYetc",more:"WrflNRqT",mre:"LdNlwIfb",mslo:"nNKBTXZy",mwl:{www:"xshWdqAj",dev:"waceCxtV"},mywedding:{www:"aAoKYyNy",dev:"aebYbbqj"},parenting:{www:"PuuCSkBY",dev:"esZwwWOU"},parents:{www:"rjvsxjLh",dev:"KuuyegZm"},peo:"exskEZha",pesp:"lPluBfVP",rsm:"yHAKmYHF",shape:{www:"fRhMKNqJ",dev:"IdDjQTmo"},sm:"gDWwdEKH",sol:"WwSRxjYJ",sp:"obnddfke",tl:"PnvHlINd",wood:"erJgFIuB"};let t;function i(){n.dom.create("script",D.els.head,{src:"https://cdn.selectablemedia.com/tg/"+s(n.urlVars.get("tgt_path")||"p/"+t)+"/js/sm_uber.js",async:!0})}return{init:function(){t=function(){const t=C(),i=k();let o=!1;return n.translate.resetAdDomain(),e.hasOwnProperty(t)&&("string"==typeof e[t]?o=e[t]:e[t].hasOwnProperty(i)?o=e[t][i]:"local"===i&&e[t].hasOwnProperty("dev")&&(o=e[t].dev),o||(o=e[t][Object.keys(e[t]).pop()])),o}(),!1!==t&&(D.selectable.id=t,i())},load:i}}(),n.slots=function(){"use strict";const e=[],r={};function s(e){return e.isMobile&&o||!e.isMobile&&!o}function l(e,t){const n=(t=t||"Slot").toLowerCase();if(e.responsive){const i=e["responsive"+t+"Sizes"]||{};return i.base=e[n+"Sizes"],i[v(Object.keys(i))]}return e[n+"Sizes"]}function c(e){return i.slots.catalog.filter((function(t){return e===t.slotContainer}))[0]||!1}function d(e){return!!("object"==typeof e&&e.hasOwnProperty("slotContainer")&&e.slotContainer.indexOf("-lazy-")>0)}function u(e,t){if(void 0===typeof e)return a("Tried to match handle, but slot is undefined",{force:!0}),!1;if(!e.handle)return a("No handle is available for slot: "+e.slotContainer,{force:!0}),!1;if(e.handle.full===t)return!0;const n=e.handle,i=t.match(/^([a-zA-Z-]*)(?::tier)?(\d)?:?(\d+)?$/)||[],o=i[1],r=i[2],s=i[3];let l=!0;return(o!==n.type||r!==String(n.tier)&&void 0!==r||s!==String(n.instance)&&void 0!==s)&&(l=!1),l}return{init:function(){const e=n.config.slots.build(n.dom.scrapeSlots(!0),M.site),t=i.slots.catalog=i.slots.catalog.concat(e.adSlots),o=[];i.slots.lazy=e.lazySlots,h(t,(function(e){(s(e)||"interstitial"===e.slotType)&&o.push(e)})),i.slots.catalog=o},define:function(){const t=i.slots.catalog;let o,r;return h(t,(function(t){o=n.targeting.adunit.build(t),t.hasOwnProperty("slotType")&&(r=n.gpt.define(t,o,t.slotContainer),e.push(r),n.targeting.slotSetup(t))})),e},convertAdSizes:function(e){const t=l(e),n=[];return h(t,(function(e){"fluid"===e||Array.isArray(e)?n.push(e):(e=e.split("x"),n.push([g(e[0]),g(e[1])]))})),n},makeHandle:function(e){const t=e.tier,n=e.slotType,i=n+":tier"+t,o=e.slotContainer.match(/(fixed|flex)/),a=o?o[0]+"-":"",s=d(e)?"lazy-":"";let l=r[i]||0;l++,e.handle={full:i+":"+l,type:n,tier:parseInt(t,10),instance:l,hbSlotName:s+n+"-"+a+"tier"+t}},matchHandle:u,matchHandleArray:function(e,t,i){let o=!1;return t=Array.isArray(t)?t:[],(!(i=i||!1)||!n.viewability.isElementHidden(n.dom.get(e)))&&(h(t,(function(t){u(e,t)&&(o=!0)})),o)},injectOutOfPageSlots:function(){M.suppressInterstitial||(a("Creating KARMA interstitial slot."),n.dom.create("div",t.body,{id:"div-gpt-interstitial","data-tier":1})),a("Creating KARMA wallpaper slot."),n.dom.create("div",t.body,{id:"div-gpt-wallpaper","data-tier":1})},isValidSlotForDevice:s,getSlotIdTierCombos:function(e){return(e=Array.isArray(e)?e:[]).map((function(e){return e.slotContainer+(e.tierString?":"+e.tierString:"")}))},getSlotCount:function(){return i.slots.catalog.length},getById:c,getSizes:l,setResponseData:function(e,t){e.creativeId=t.sourceAgnosticCreativeId,e.lineItemId=t.sourceAgnosticLineItemId,e.advertiserId=t.advertiserId,e.isEmpty=t.isEmpty,e.size=t.size},isLazy:d,destroy:function(e){const t=c(e);return t&&(n.lazyLoad.removeUnfilledSlot(e),n.gpt.destroy(t.gptSlot()),n.partner.removeSlotFromAll(e),n.refresh.removeSlot(e,!0),n.refresh.timed.removeSlot(t),i.slots.catalog=i.slots.catalog.filter((function(t){return t.slotContainer!==e})),n.requestQueue.removeFromActiveSlots(e),n.translate.slots()),!1}}}(),n.tiers=function(){"use strict";function e(e){return void 0!==e&&!isNaN(parseInt(e,10))&&e>=0&&e<=4}return{getFromType:function(e){const t=e.indexOf("tier");return-1!==t&&e.charAt(t+4)},isValidTier:e,setTierSettings:function(t,n){if(e(t)){const e=n.slotContainer.replace(/-\d+$/i,""),i="tier"+t;n.tier=parseInt(t,10),n.tierString="tier"+t,M.tiers&&M.tiers[e]&&M.tiers[e][i]&&h(M.tiers[e][i],(function(t){n[t]=M.tiers[e][i][t]}))}}}}(),n.translate=function(){"use strict";function t(){return 2===r}function o(e,t,n,i){a("You called "+e+", which has been deprecated. "+(t&&""!==t?"You should call karma."+t+" instead. ":""),{force:!0,level:"warn",doc:"api-method-changes-in-karma-3"}),"function"==typeof n&&n.apply(this,i)}function s(){t()&&(e.adService.adSlotsById={},i.slots.catalog.forEach((function(t){e.adService.adSlotsById[t.slotContainer]=t})))}return{convertConfig:function(){if(t()){e.adService=e.adService||{};const t=e.adService.unitValues||{},n=e.adService.pageTargetingValues||{};i.config.onPageSettings.config=e.adService!=={}?e.adService:{},i.config.isMobile=e.adService.mobileAds||!1,h(t,(function(e){"adDomain"===e?i.config.site=t[e]:i.config.targeting[e]=t[e]})),h(n,(function(e){i.config.targeting[e]=n[e]})),i.config.suppressInterstitial=e.adService.suppressInterstitial||!1,i.config.header_tag_managerEnabled=e.adService.header_tag_managerEnabled||!1,i.config.a9Enabled=e.adService.a9Enabled||!1,i.config.refreshSlotTypes=e.adService.refreshSlotTypes||[],e.adService.hasOwnProperty("callback")&&("function"==typeof e.adService.callback&&(a("adService.callback is a function. It should be an array of functions. You should use window.karma.config.callback anyway.",{force:!0,level:"warn",doc:"karmaconfigcallback"}),e.adService.callback=[e.adService.callback]),i.config.hasOwnProperty("callback")?("function"==typeof i.config.callback&&(a("karma.config.callback is a function. It should be an array of functions.",{force:!0,level:"warn",doc:"karmaconfigcallback"}),i.config.callback=[i.config.callback]),"object"==typeof i.config.callback&&i.config.callback.push(e.adService.callback)):i.config.callback=e.adService.callback)}},init:function(){t()&&(e.adService=e.adService||{},e.adService.mobileAds=i.config.isMobile,e.adService.unitValues={},e.adService.unitValues.adDomain=i.config.site,e.adService.unitValues.channel=i.config.targeting.channel,e.adService.unitValues.parent=i.config.targeting.parent,e.adService.unitValues.child=i.config.targeting.child,e.adService.pageTargetingValues=i.config.targeting,e.adService.siteSettings=i.config.static,e.adService.docking=i.config.docking,e.adService.refresh=i.config.refresh,e.adService.callback=i.config.callback,e.adService.apiVersion=r,"3"!==r&&a("You are using an out-of-date version of KARMA. You should upgrade to K3:",{force:!0,level:"warn",doc:"karma-3-migration-guide"}),e.adService.adUnit={top:n.targeting.adunit.buildTop(),sub:n.targeting.adunit.buildSub()},e.adService.mdpPageCount=D.pageCount,function(){const t=[{func:"createLazyLoadSlot",newName:"createSlot",fn:n.lazyLoad.create},{func:"fillLazyLoadSlots",newName:"fillSlots",fn:n.lazyLoad.fill},{func:"updatePageTargeting",newName:"updateTargeting",fn:n.targeting.setTargetingMap},{func:"updateSlotTargeting",newName:"updateTargeting",fn:n.targeting.legacyUpdateSlot},{func:"buildDefaultRefreshSlots",newName:"",fn:n.refresh.buildDefaultSlots},{func:"addToRefreshSlots",newName:"createSlot(slotName, container, autofill, callback, {refreshable: true})",fn:n.refresh.addSlot},{func:"purgeRefreshSlots",newName:"createSlot(slotName, container, autofill, callback, {purgeRefreshSlots: true})",fn:n.refresh.addSlot},{func:"removeFromRefreshSlots",newName:"",fn:n.refresh.removeSlot},{func:"destroySlot",newName:"destroySlot",fn:n.slots.destroy},{func:"addToCallbackList",newName:"config.callback.push",fn:n.callbacks.add},{func:"getSlotCount",newName:"getSlotCount",fn:n.slots.getSlotCount},{func:"isInView",newName:"isInView",fn:n.viewability.isInView},{func:"disableTimedRefreshOnSlot",newName:"disableTimedRefreshOnSlot",fn:n.refresh.timed.disableTimedRefreshOnSlot},{func:"forceReleaseBanner",newName:"releaseDocking",fn:n.docking.leaderboard.forceReleaseBanner},{func:"createInfiniteScrollSlot",newName:"createSlot",fn:n.lazyLoad.create},{func:"fillInfiniteScrollSlots",newName:"fillSlots",fn:n.lazyLoad.fill}];e.adService.renderAds={},h(t,(function(t){e.adService.renderAds[t.func]=function(){o("adService.renderAds."+t.oldName,t.newName,t.fn,arguments)}})),e.adService.debug=function(){o("adService.debug","debug",n.debug.publicDebug,arguments)},e.adService.showLog=function(){o("adService.showLog","showLog",n.debug.showLog,arguments)}}(),e.refreshAdFrame=function(){o("refreshAdFrame","refresh",n.refresh.startRefresh,arguments)},s())},isEnabled:t,queue:function(){e.adServiceQ=e.adServiceQ||[],e.karma.cmd=void 0!==e.karma.cmd&&"object"==typeof e.karma.cmd?e.adServiceQ.concat(e.karma.cmd):e.adServiceQ.slice()},ready:function(){t()&&(e.adService.queueExecuted=D.queueExecuted),e.adServiceQ=e.karma.cmd},resetAdDomain:function(){t()&&(i.config.site="")},slots:s,targetingReady:function(){t()&&(e.adService.pageTargetingReady=D.targetingReady)}}}(),n.urlVars=function(){"use strict";const t=decodeURIComponent(e.location.search);function n(){return D.url=d(t),D.url.testValues=r(),D.url.serviceValues=r("service"),D.url}function o(e){return D.url[e.toLowerCase()]||null}function r(e){var n;e=((n=e)?n.replace(/\b\w+/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):"")||"";const i={};return t.replace(new RegExp("[?&]adtest"+e+"keyvalues=([^&]*)","i"),(function(e,t){h(t.split("-"),(function(e){const t=e.split(",");i[t[0]]=t[1]}))})),i}return n(),{setTestValues:function(){const e=D.url.serviceValues;let t,n,o;h(e,(function(r){t=r.split("."),n=i.config,o=t.length,h(t,(function(t,i){i===o-1?n[t]=c(e[r]):(n[t]=n.hasOwnProperty(t)?n[t]:{},n=n[t])}))}))},get:o,init:n,isTrue:function(e){return"true"===o(e.toLowerCase())},urlContainsEmail:function(){return decodeURIComponent(e.location.href).match(/[-a-z0-9~!$%^&*_=+}{'?]+(\.[-a-z0-9~!$%^&*_=+}{'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?/gi)}}}(),n.video=function(){"use strict";function e(){const e=M.videoTargetingKeys||[];D.videoTargeting={},h(e,(function(e){n.targeting.get(e)&&(D.videoTargeting[e]=M.targeting[e])}))}return{initTargeting:function(){e()},getVideoId:function(){let e=D.videoId;if(!e){const t=n.dom.lookup(".video-js");t&&t.dataset&&t.dataset.videoId&&(D.videoId=e=t.dataset.videoId)}return e},setTargeting:function(e){R(e)&&m(D.videoTargeting,e)},resetTargeting:e,updateTargeting:function(){e(),n.partner.a9.fetchBids([{isPreroll:!0}],"video",P),n.partner.header_tag_manager.fetchVideoBids()}}}(),n.viewability=function(){"use strict";const i="object"==typeof t.body&&"function"==typeof t.elementFromPoint&&"function"==typeof addEventListener;let o=!0;return{isInView:function(e,i){let r=!0;"string"==typeof e&&(e=n.slots.getById(e));const s=e.viewabilityDom=function(e){let t=!1;return e?(e.firstChild&&(e.firstChild.firstChild&&(e.firstChild.children.length>1?t=e.firstChild:"IFRAME"===e.firstChild.firstChild.tagName&&(t=e.firstChild.firstChild)),!1===t&&(t=e.firstChild)),t):t}(n.dom.get(e));if(!s)return a("Could not get viewability element: "+e.slotContainer,{level:"error",force:!0}),!1;if(!(i||o&&"visible"===t.visibilityState))return r=!1,r;if("mob-adhesive-banner"===e.slotType)return r=!0,r;if(function(e){return!(!M.hasOwnProperty("alwaysRefreshDockedSlots")||!M.alwaysRefreshDockedSlots||!1===M.docking.rail.enabled)&&function(e,t,n){let i=10;for(;i>0&&e&&e!==document;){if((e=e.parentNode)===document)return!1;if(e.matches(".karma-sticky-stuck")||e.matches(".karma-element-sticky-stuck"))return!0;i--}return!1}(t.getElementById(e.slotContainer))}(e))return r=!0,r;if(e.bypassViewabilityRequirement)return r=!0,r;const l=s.getBoundingClientRect(),c=[[Math.round(l.left+1),Math.round(l.top+1)],[Math.round(l.right-1),Math.round(l.top+1)],[Math.round(l.right-1),Math.round(l.bottom-1)],[Math.round(l.left+1),Math.round(l.bottom-1)]];let d,u,g,f,p;for(d=0;d<4;d++)if(u=c[d],g=u[0],f=u[1],p=t.elementFromPoint(g,f),p!==s&&!s.contains(p)){r=!1;break}return r},isElementHidden:function(e){return null!==e&&null===e.offsetParent},addFocusListeners:function(){i?(e.addEventListener("blur",(function(){o=!1})),e.addEventListener("focus",(function(){o=!0}))):o=!1},getSlotOffsetFromViewport:function(t){const i=e.innerHeight,o=n.dom.get(t),r=o.getBoundingClientRect().top,a=o.clientHeight;return r+a<0?r+a:r>i?r-i:0},setBypassViewabilityRequirement:function(e,t){n.slots.getById(e).bypassViewabilityRequirement=t},handleSpecialViewabilityRules:function(e){n.slots.matchHandle(e,"leaderboard:tier1:1")&&17396370===e.advertiserId&&(e.bypassViewabilityRequirement=!0)}}}(),n.timeline=function(){"use strict";if(D.initialized=D.initialized||!1,D.ready=!0,!n.reload.checkParams()){if(D.headerInitialized)return void a("KARMA has already initialized; aborting init process. Please make sure you don't have multiple calls to karma.js on the page.",{force:!0,level:"error"});D.headerInitialized=D.headerInitialized=!0,n.gpt.init(),n.selectable.init(),n.muid.init(),(3===r||e.karmaService&&e.karmaService.vars.footerReady&&!D.initialized)&&s()}function s(){e.karma=e.karma||{},i=m(i,e.karma),i.config.onPageSettings=Object.keys(e.karma).length>0?e.karma:{},n.translate.convertConfig(),n.urlVars.setTestValues("service"),i.config.hasOwnProperty("isMobile")&&"boolean"==typeof i.config.isMobile||a("karma.config.isMobile is missing or is not a boolean.",{force:!0,level:"error",doc:"karmaconfigismobile---required"}),o=i.config.isMobile=u(i.config.isMobile),D.initialized=!0,e.karma=i,n.debug.init(n.urlVars.get("karmaDebug")),a("KARMA is running!",{report:!0,label:"karmaRunning",force:!0}),n.viewability.addFocusListeners(),n.targeting.adunit.init(),n.targeting.init(),n.callbacks.init(),n.reporting.addEventListener(),n.config.init(l)}function l(e){n.config.process(e),n.requestQueue.init(),n.dom.ready(c)}function c(){n.slots.injectOutOfPageSlots(),n.slots.init(),n.bidz.init(),n.calvera.load(),n.gpt.queuePush(d)}function d(){var e;n.slots.define(),n.partner.init(),n.partner.adLightning.load(),a({label:"KarmaInit"}),n.methods.init(),n.translate.init(),e=i.slots.catalog,n.gpt.enable(),n.gpt.displayAllSlots(),n.reporting.init(),n.video.initTargeting(),a("Finished GPT Setup... calling DFP"),n.requestQueue.process(e),n.refresh.buildDefaultSlots(),n.gpt.addCallback(g,"slotOnload"),0===e.length?(D.requestInFlight=!1,f()):n.callbacks.add(f),-1===M.site.indexOf(".mob")||o||a("karma.config.site ("+M.site+") ends in .mob, but karma.config.isMobile is set to false. isMobile should be set to true when the site is mobile.",{force:!0,level:"error",doc:"karmaconfigismobile---required"}),-1===M.site.indexOf(".mob")&&o&&a("karma.config.site ("+M.site+") does not contain .mob, but karma.config.isMobile is set to true. isMobile should be set to false when the site is desktop.",{force:!0,level:"error",doc:"karmaconfigismobile---required"}),o&&0===n.dom.scrapeSlots().filter((function(e){return-1!==e.indexOf("gpt-mob")})).length&&a("karma.config.isMobile is set to true, but there are no mobile instant placeholders on the page. If you do not create any lazy-loaded slots, there will be no ads on the page.",{force:!0,level:"warn"}),o||0!==n.dom.scrapeSlots().filter((function(e){return e.match(/gpt-(?!mob|wallpaper|interstitial)/)})).length||a("karma.config.isMobile is set to false, but there are no desktop instant placeholders on the page.  If you do not create any lazy-loaded slots, there will be no ads on the page.",{force:!0,level:"warn"}),t.querySelector('script[src^="http://karma.mdpcdn.com"]')&&a("You're calling an insecure version of the KARMA script. You should use the https version.",{force:!0,level:"warn"}),t.querySelector('script[src*="web/js/mdp/app/gpt/gpt.core.js"]')&&a("You're using a deprecated KARMA file: gpt.core.js. You should update to K3.",{force:!0,level:"warn",doc:"karma-3-migration-guide"}),3===r&&window.adService&&a("You're on KARMA3, but you still have references to window.adService in your code. You should clean up or convert those.",{force:!0,level:"warn",doc:"karma-3-migration-guide"})}function g(){if(!D.testsRun){a({label:"onload"});const e=D.environment,t="local"===e,i="www"!==e;n.urlVars.get("runKarmaTests")&&n.gpt.queuePush((function(){n.dom.create("script",D.els.head,{src:"https://"+(i?e+".":"")+"karma.mdpcdn.com"+(t?":9999":"")+"/tests/js/karma.tests.bookmarklet.js"})})),D.testsRun=!0}!D.bookmarkletInjected&&n.urlVars.isTrue("karmaDebug")&&(n.gpt.queuePush((function(){n.dom.create("script",D.els.head,{src:"https://karma.mdpcdn.com/files/tools/bookmarklets/karmaBookmarklet.js"})})),D.bookmarkletInjected=!0)}function f(t){function o(e){if("function"==typeof e)try{e()}catch(e){a("karma.cmd error running function: "+e,{force:!0,level:"error"})}}if(!D.queueExecuted){if(D.queueExecuted=!0,n.docking.init(),t&&a("Slot: "+t.slot.getSlotElementId(),{report:!0,label:"slotRenderEnded"}),n.refresh.timed.init(),i.cmd=e.karma.cmd||[],n.translate.queue(),"object"==typeof i.cmd)for(;i.cmd.length>0;)o(i.cmd[0]),i.cmd.splice(0,1);i.cmd={push:o},n.partner.aam.load(),n.translate.ready(),n.scrollLoad.checkAndRequest()}}return e.karmaService&&e.karmaService.vars&&(D.footerReady=e.karmaService.vars.footerReady),e.karmaService={vars:D,init:s},e.karma=e.karma||{},e.karma.init=s,{init:s,afterConfigReady:l}}()}();
//# sourceMappingURL=karma.js.map