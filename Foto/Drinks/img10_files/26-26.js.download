(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1121:function(e,t,n){var a=n(406);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,i,c){var l,o=e.lambda,s=e.escapeExpression,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="list-item '+s(o(null!=t?r(t,"type"):t,t))+'">\n  <span class="filter-tag filter-'+s(o(null!=t?r(t,"type"):t,t))+'" title="'+s(o(null!=t?r(t,"value"):t,t))+" "+s(o(null!=t?r(t,"type"):t,t))+' filter">\n    <span class="search-tag">'+s(o(null!=t?r(t,"value"):t,t))+'</span>\n    <a class="filter-action close-icon" href="#" title="Remove '+s(o(null!=t?r(t,"value"):t,t))+" "+s(o(null!=t?r(t,"type"):t,t))+' filter">'+(null!=(l=e.invokePartial(n(1122),t,{name:"icons/24px/cancel",data:c,helpers:a,partials:i,decorators:e.decorators}))?l:"")+"</a>\n  </span>\n</div>\n"},usePartial:!0,useData:!0})},1122:function(e,t,n){var a=n(406);e.exports=(a.default||a).template({1:function(e,t,n,a,i){var c,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'aria-label="'+e.escapeExpression("function"==typeof(c=null!=(c=l(n,"aria-label")||(null!=t?l(t,"aria-label"):t))?c:e.hooks.helperMissing)?c.call(null!=t?t:e.nullContext||{},{name:"aria-label",hash:{},data:i,loc:{start:{line:1,column:167},end:{line:1,column:181}}}):c)+'"'},3:function(e,t,n,a,i){return'aria-hidden="true"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var c,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24" role="img" '+(null!=(c=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"aria-label"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i,loc:{start:{line:1,column:137},end:{line:1,column:215}}}))?c:"")+' tabindex="-1"><g><path fill="#FFF" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></g></svg>\n'},useData:!0})},496:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(5),l=n.n(c),o=n(4),s=n(790),r=n(1121),u=n.n(r);function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h=function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return e.match(/^[a-zA-Z]+$/)}))},f=function(e,t){return t.indexOf(e)>-1},p=function(e,t){var n={type:t,value:e};return i()(i()(u()(n)).html())},m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$searchByIngredientForm=t,this.$tagListInclude=t.find(".tag-list-include"),this.$tagListExclude=t.find(".tag-list-exclude"),this.$searchButton=t.find(".search-button"),this.$keywordInput=t.find(".keywords"),this.$includeButton=t.find(".add-include"),this.$excludeButton=t.find(".add-exclude"),this.$includeInput=t.find(".include-ingredients"),this.$excludeInput=t.find(".exclude-ingredients"),this.included=[],this.excluded=[]}var t,n,a;return t=e,(n=[{key:"handleEvents",value:function(){l()(o.M).subscribe(this.onKeyUp.bind(this)),l()(o.n).subscribe(this.onClick.bind(this))}},{key:"onClick",value:function(e,t){return Object(s.a)(t,this.$searchButton)?(e.preventDefault(),this.submit()):Object(s.a)(t,this.$includeButton)?(e.preventDefault(),this.addIncludedItem()):Object(s.a)(t,this.$excludeButton)?(e.preventDefault(),this.addExcludedItem()):t.closest(".filter-included").length?(e.preventDefault(),e.stopPropagation(),this.removeIncludedItem(t.closest(".filter-included"))):t.closest(".filter-excluded").length?(e.preventDefault(),e.stopPropagation(),this.removeExcludedItem(t.closest(".filter-excluded"))):null}},{key:"onKeyUp",value:function(e,t){return Object(s.a)(t,this.$keywordInput)&&(""===this.$keywordInput.val().trim()?this.$keywordInput.closest(".primary").addClass("error"):this.$keywordInput.closest(".primary").removeClass("error")),null}},{key:"addToIncluded",value:function(e){var t=this,n=e.filter((function(e){return!f(e,t.included)}));this.included=this.included.concat(n),n.forEach((function(e){return t.$tagListInclude.append(p(e,"included"))})),this.$tagListInclude.css("margin-bottom","32px")}},{key:"addToExcluded",value:function(e){var t=this,n=e.filter((function(e){return!f(e,t.excluded)}));this.excluded=this.excluded.concat(n),n.forEach((function(e){return t.$tagListExclude.append(p(e,"excluded"))})),this.$tagListExclude.css("margin-bottom","32px")}},{key:"addIncludedItem",value:function(){this.addToIncluded(h(this.$includeInput.val())),this.$includeInput.val(null)}},{key:"addExcludedItem",value:function(){this.addToExcluded(h(this.$excludeInput.val())),this.$excludeInput.val(null)}},{key:"removeIncludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromIncluded(t)}},{key:"removeExcludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromExcluded(t)}},{key:"removeFromIncluded",value:function(e){this.included.splice(this.included.indexOf(e),1)}},{key:"removeFromExcluded",value:function(e){this.excluded.splice(this.excluded.indexOf(e),1)}},{key:"submit",value:function(){var e=h(this.$keywordInput.val()).join(",");if(e.length>0){this.$keywordInput.closest(".primary").removeClass("error"),this.addIncludedItem(),this.addExcludedItem();var t=this.included.join(","),n=this.excluded.join(","),a="".concat("https://www.allrecipes.com/search/results/","?WT=").concat(e,"&IngIncl=").concat(t,"&ingExcl=").concat(n,"&sort=re");window.location.href=a}else this.$keywordInput.closest(".primary").addClass("error"),this.$keywordInput.focus()}},{key:"init",value:function(){this.$keywordInput.val(null),this.$includeInput.val(null),this.$excludeInput.val(null),this.handleEvents()}}])&&d(t.prototype,n),a&&d(t,a),e}();t.default=function(){var e=new m(i()(".component.search-by-ingredient"));l()(o.R).subscribe((function(){return e.init()}))}},497:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(5),l=n.n(c),o=n(4),s=n(790);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$context=t,this.$htmlForm=this.$context.find(".search-results-html-form"),this.$searchField=this.$context.find(".search-field"),this.$facetMenus=this.$context.find(".facet-menu"),this.$facetMenuOptions=this.$context.find(".facet-menu-options"),this.isMobile=i()(window).width()<768,this.hasChanged=!1,this.centerAllFacetMenus(),l()(o.z).subscribe((function(e,t){n.hasChanged||t.closest(".search-results-html-form").length>0&&(n.hasChanged=!0)})),l()(o.n).subscribe((function(e,t){var a=t.closest(".toggle-search-facets"),c=t.closest(n.$context.find("button.search")),l=t.closest(".search-results-form-chips .chip"),o=t.closest(".facet-menu:not(.empty)"),s=t.closest(".facet-menu-options"),r=t.closest("body > .facet-menu-options label"),u=t.closest("body > .facet-menu-options .close"),d=i()("body > .facet-menu-options"),h=i()("body > .black-out"),f=i()(".facet-menu.menu-active").length>0;if(a.length>0&&(e.preventDefault(),n.$context.find(".search-results-form-menus").removeClass("hide-on-mobile"),a.remove()),l.length>0){e.preventDefault();var p=l.attr("data-facet-field"),m=l.attr("data-facet-option");i()('.facet-menu[data-facet-field="'.concat(p,'"]')).find('input[data-facet-option="'.concat(m,'"]')).prop("checked",!1),l.remove(),n.$htmlForm.submit()}if(o.length>0&&s.length<1){var v=o.hasClass("menu-active");e.stopPropagation(),n.$facetMenus.removeClass("menu-active"),v?n.closeFacetMenu(o):n.openFacetMenu(o)}if(o.length<1&&f&&d.length<1&&c.length<1&&(n.$facetMenus.removeClass("menu-active"),n.hasChanged&&n.$htmlForm.submit()),r.length>0&&(n.hasChanged||(n.hasChanged=!0)),u.length>0&&s.length>0){e.preventDefault(),e.stopPropagation();var g=s.attr("data-facet-field"),b=n.$facetMenus.filter("[data-facet-field='".concat(g,"']"));n.closeFacetMenu(b)}if(h.length>0&&s.length<1){e.stopPropagation();var y=n.$context.find(".facet-menu.menu-active");n.closeFacetMenu(y)}})),l()(o.Kb).subscribe((function(e,t){Object(s.a)(t,n.$htmlForm)&&(e.preventDefault(),window.location.href=n.getSearchUrlFromForm())})),l()(o.zb).subscribe((function(){n.isMobile=i()(window).width()<768,n.centerAllFacetMenus()}))}var t,n,a;return t=e,(n=[{key:"getSearchUrlFromForm",value:function(){var e=this.$searchField.val(),t=this.$facetMenuOptions.find("input:checked"),n=this.$htmlForm.attr("action")||"/search";n+="?q=".concat(encodeURIComponent(e));var a={};t.each((function(e,t){var i=t.dataset.facetField,c=t.dataset.facetOption;"true"===t.dataset.facetFlattened?a[i]?a[i].push(c):a[i]=[c]:n+="&f[".concat(e,"]=").concat(encodeURIComponent("".concat(i,":").concat(c)))}));var i=Object.keys(a);return i.length?(i.forEach((function(e,t){a[e]&&(n+="&f[".concat(t,"]=").concat(encodeURIComponent("".concat(e,":").concat(a[e].join("|")))))})),n):(this.$context.hasClass("has-ingredients")&&(n="/search/ingredient-chef"),n)}},{key:"centerAllFacetMenus",value:function(){this.isMobile?this.$facetMenuOptions.each((function(e,t){i()(t).css("margin-left","0px")})):this.$facetMenuOptions.each((function(e,t){var n=i()(t),a=n.outerWidth();n.css("margin-left",a/2*-1)}))}},{key:"openFacetMenu",value:function(e){e.addClass("menu-active"),this.isMobile&&i()("body").append(e.find(".facet-menu-options")).append('<div class="black-out"></div>')}},{key:"closeFacetMenu",value:function(e){if(e.removeClass("menu-active"),this.isMobile){var t=e.attr("data-facet-field");i()("body > .facet-menu-options[data-facet-field='".concat(t,"']")).appendTo(e),i()("body > .black-out").remove()}this.hasChanged&&this.$htmlForm.submit()}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=function(){return i()(".component.search-results-form").each((function(){return new u(i()(this))}))}},790:function(e,t,n){"use strict";t.a=function(e,t){return e.is(t)||t.has(e).length>0}}}]);
//# sourceMappingURL=26-26.js.map