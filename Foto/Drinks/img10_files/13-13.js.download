(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{481:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(5),s=n.n(c),r=n(4),d=n(790);s()(r.n).subscribe((function(e,t){var n=a()(".recipe-button.print");Object(d.a)(t,n)&&(e.preventDefault(),window.print())})),s()(r.n).subscribe((function(e,t){var n=a()(".recipe-content-toggle-section").find(".checkbox-list-input");Object(d.a)(t,n)&&(!function(e){var t=a()(".recipe-content"),n=e.val(),i="";"Images"===n&&(i="print_hide_images"),"Tips"===n&&(i="print_hide_tips"),"Nutrition"===n&&(i="print_hide_nutrition"),"Sale Items"===n&&(i="print_hide_sales"),e.attr("checked")?t.addClass(i):t.removeClass(i)}(t),t.attr("checked")?(t.attr("checked",!1),t.parent().find(".checkbox-list-checkmark").removeClass("checked").addClass("unchecked"),t.parent().parent().find(".section-body").removeClass("checked")):(t.attr("checked","checked"),t.parent().find(".checkbox-list-checkmark").addClass("checked").removeClass("unchecked"),t.parent().parent().find(".section-body").addClass("checked")))}))},486:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(1),a=n.n(i),c=n(5),s=n.n(c),r=n(2),d=n.n(r),o=n(4),l=n(790);function p(e){if(a.a.isArray(e)){var t=a()(".ingredients-section li");a.a.each(t,(function(t,n){var i=a()(n),c=i.data("id");e.includes(c)&&(i.find("input").prop("checked",!0),i.find(".checkbox-list-checkmark").addClass("checked").removeClass("unchecked"))})),e.length>=1&&(a()(".recipe-shopping-list__add-all-button").addClass("hidden"),a()(".recipe-shopping-list__add-all-success, .recipe-shopping-list__view-items").removeClass("hidden"),a()(".recipe-shopping-list__add-all-success-text").text("".concat(e.length," ingredient").concat(e.length>1?"s":""," added")))}else e.prop("checked",!0),e.parent().find(".checkbox-list-checkmark").addClass("checked").removeClass("unchecked")}function u(e,t){if(a()("body").hasClass("authenticated")){var n=e.type,i=a()(".recipe-shopping-list__add-all-button");a.a.post("/element-api/content-proxy/shopping-list",e,(function(a,c){"success"===c&&("post"===n?!t||Object(l.a)(t,i)?p(e.ingredientIds||[e.ingredientId]):p(t):function(e){e.prop("checked",!1),e.parent().find(".checkbox-list-checkmark").removeClass("checked").addClass("unchecked")}(t))}))}else{var c=a()(".component.recipe-ingredients-new").data("login-url"),s="?id=".concat(e.id,"&servings=").concat(e.servings,"&type=").concat(e.type);s=e.ingredientIds?"".concat(s,"&ingredientIds=").concat(e.ingredientIds):"".concat(s,"&ingredientId=").concat(e.ingredientId),c="".concat(c).concat(encodeURIComponent(s)),window.location.href=c}}function h(){var e=a()(".ingredients-section").find(".checkbox-list-input"),t=a()(".recipe-adjust-servings__size-minus"),n=a()(".recipe-adjust-servings__size-plus"),i=a()(".recipe-adjust-servings__adjust-button"),c=a()(".recipe-shopping-list__add-all-button"),r=a()(".recipe-shopping-list__add-all-button-text");e.change((function(){var t=e.filter(":checked").length;a()(".component.recipe-ingredients-new").attr("data-ingredients-selected",t),t>=1?r.text("Add ".concat(t," ingredient").concat(t>1?"s":""," to shopping list")):r.text("Add all ingredients to shopping list")})),s()(o.n).subscribe((function(e,s){if(Object(l.a)(s,t)){var r=parseInt(a()(".recipe-adjust-servings__size-quantity").text(),10);r>1&&(r-=1,a()(".recipe-adjust-servings__size-quantity").text(r))}else if(Object(l.a)(s,n)){var o=parseInt(a()(".recipe-adjust-servings__size-quantity").text(),10);o<300&&(o+=1,a()(".recipe-adjust-servings__size-quantity").text(o))}else if(Object(l.a)(s,i)){var p,h=parseInt(a()(".recipe-adjust-servings__size-quantity").text(),10),g=a()(".keyvals").data("meredith_brand"),f=a()(".keyvals").data("content_cms_id");p=(p=-1!==g.indexOf("allrecipes.com")?"cms/allrecipes_recipe_alrcom_".concat(f):a()("body").data("content-graph-id")).split("/");var v=d.a.get(p,"[0]",null),m=d.a.get(p,"[1]",null),k="/element-api/recipe-scaling/".concat(v,"/").concat(m),b={servings:h};a.a.get(k,b,(function(e){var t=e.ingredient_groups;return!!t&&(a.a.each(t,(function(e,t){a.a.each(t.ingredients,(function(e,t){a()(".ingredients-section li[data-id=".concat(t.cms_ingredient_id,"] .ingredients-item-name")).text(t.full_ingredient_line)}))})),a()(".recipe-adjust-servings__validation-message").show(),!0)}))}else if(Object(l.a)(s,c)){var _=s.closest(".recipe-ingredients-new"),C=_.data("recipe-id"),w=_.data("servings"),y=_.find("li input:checked");y.length||(y=_.find("li"),a()(".component.recipe-ingredients-new").attr("data-ingredients-selected",y.length));var I=[];y.length&&a.a.each(y,(function(e,t){var n=a()(t).closest("li").data("id");I.push(n)})),u({id:C,ingredientIds:I,servings:w,type:"post"},s)}}))}function g(){var e=a()(".component.recipe-ingredients-new"),t=e.parent(),n=a()("li.ingredients-item");e.attr("data-ingredient-total",n.length),e.attr("data-ingredients-selected","0"),h(),new MutationObserver((function(e){e.forEach((function(e){"id"===d.a.get(e,"attributeName")&&"ar-calvera-app"===d.a.get(e,"target.id")&&h()}))})).observe(t.get(0),{attributes:!0}),s()(o.kb).subscribe(function(){if(a()("body").hasClass("authenticated")){var e=new URLSearchParams(window.location.search.substring(1)),t=e.get("id"),n=e.get("servings"),i=e.get("ingredientIds"),c=e.get("ingredientId"),s=e.get("type");if(!t||!n||!c&&!i||!s)return!1;var r={id:t,servings:n,type:"post"};if(i){i=i.split(",");var d=[];a.a.each(i,(function(e,t){d.push(parseInt(t,10))})),r.ingredientIds=d}else r.ingredientId=parseInt(c,10);return u(r),!0}return!0}())}},487:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(5),s=n.n(c),r=n(4),d=n(790);t.default=function(){s()(r.n).subscribe((function(e,t){var n=a()(".instructions-section").find(".checkbox-list-input");Object(d.a)(t,n)&&(t.attr("checked")?(t.attr("checked",!1),t.parent().find(".checkbox-list-checkmark").removeClass("checked").addClass("unchecked"),t.parent().parent().find(".checkbox-list").removeClass("checked"),t.parent().parent().find(".section-body").removeClass("checked")):(t.attr("checked","checked"),t.parent().find(".checkbox-list-checkmark").addClass("checked").removeClass("unchecked"),t.parent().parent().find(".checkbox-list").addClass("checked"),t.parent().parent().find(".section-body").addClass("checked")))}))}},489:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(5),s=n.n(c),r=n(2),d=n.n(r),o=n(4),l=n(790),p=n(74);t.default=function(){s()(o.Fb).subscribe((function(e,t){e.find(".rating-star-input").each((function(e,n){n.checked=e<=t}))})),s()(o.n).subscribe((function(e,t){var n,i,c=a()(".component.recipe-ratings > .ratings-dropdown-button"),r=a()(".component.recipe-ratings > .ratings-dropdown-menu"),u=a()(".component.recipe-ratings .add-rating-reviews-link"),h=a()(".component.feedback"),g=function(){c.removeClass("open"),c.attr("aria-expanded",!1),r.removeClass("open")};if(Object(l.a)(t,u)&&!h.length)if(e.preventDefault(),n=p.a.data(),i={label:"rating & review",cateogry:"ugc",contentSource:"0",contentType:n.contentType,sourceZone:"body",userDecisionArea:"body",contentAuthorName:n.contentAuthorName,contentChannel:n.contentChannel,contentCmsCategory:n.contentCmsCategory,contentCmsId:n.contentCmsId,contentGraphId:n.contentGraphId,contentModifiedDate:n.contentModifiedDate,contentPublishedDate:n.contentPublishedDate,contentShownOnPlatform:n.contentShownOnPlatform,contentTaxonomy:n.contentTaxonomy,MUID:n.MUID,title:n.title,url:n.url,visitTs:n.visitTs,requestId:n.requestId,previousTs:n.previousTs},d.a.get(n,"timeIncBrand")?(d.a.set(i,"timeIncBrand",n.timeIncBrand),d.a.set(i,"timeIncApplication","front end")):(d.a.set(i,"sourceMeredithBrand",n.meredithBrand),d.a.set(i,"meredithBrand",n.meredithBrand),d.a.set(i,"meredithApplication","front end")),window.analytics&&window.analytics.track("content action taken",i),a()("body").hasClass("authenticated"))setTimeout((function(){return s()(o.ec).broadcast(e,t)}),0);else if(!t.closest(".embedded-auth-modal-trigger").length){var f=u.data("login-url");window.open(f,"_self")}if(t.closest(".recipe-ratings").hasClass("interactive")&&t.closest(".rating-star").length){var v=t.closest(".recipe-ratings").find("input[name=ugc-rating]"),m=t.closest(".rating-star").data("rating");m&&v.val([m])}return t.closest(".ratings-dropdown-button").length&&!t.closest(".recipe-ratings").hasClass("interactive")&&r.length?(e.preventDefault(),r.hasClass("open")?g():(c.addClass("open"),c.attr("aria-expanded",!0),r.addClass("open"))):g(),null}))}},790:function(e,t,n){"use strict";t.a=function(e,t){return e.is(t)||t.has(e).length>0}}}]);
//# sourceMappingURL=13-13.js.map